function Fy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var G1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $y={exports:{}},_u={},jy={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Symbol.for("react.element"),Y1=Symbol.for("react.portal"),X1=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),Z1=Symbol.for("react.profiler"),eT=Symbol.for("react.provider"),tT=Symbol.for("react.context"),nT=Symbol.for("react.forward_ref"),rT=Symbol.for("react.suspense"),iT=Symbol.for("react.memo"),oT=Symbol.for("react.lazy"),Gp=Symbol.iterator;function sT(t){return t===null||typeof t!="object"?null:(t=Gp&&t[Gp]||t["@@iterator"],typeof t=="function"?t:null)}var By={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zy=Object.assign,Wy={};function Po(t,e,n){this.props=t,this.context=e,this.refs=Wy,this.updater=n||By}Po.prototype.isReactComponent={};Po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hy(){}Hy.prototype=Po.prototype;function Bd(t,e,n){this.props=t,this.context=e,this.refs=Wy,this.updater=n||By}var zd=Bd.prototype=new Hy;zd.constructor=Bd;zy(zd,Po.prototype);zd.isPureReactComponent=!0;var Yp=Array.isArray,qy=Object.prototype.hasOwnProperty,Wd={current:null},Ky={key:!0,ref:!0,__self:!0,__source:!0};function Qy(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)qy.call(e,r)&&!Ky.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fa,type:t,key:o,ref:s,props:i,_owner:Wd.current}}function aT(t,e){return{$$typeof:fa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hd(t){return typeof t=="object"&&t!==null&&t.$$typeof===fa}function lT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xp=/\/+/g;function vc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lT(""+t.key):e.toString(36)}function dl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case fa:case Y1:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+vc(s,0):r,Yp(i)?(n="",t!=null&&(n=t.replace(Xp,"$&/")+"/"),dl(i,e,n,"",function(u){return u})):i!=null&&(Hd(i)&&(i=aT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Xp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Yp(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+vc(o,a);s+=dl(o,e,n,l,i)}else if(l=sT(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+vc(o,a++),s+=dl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ja(t,e,n){if(t==null)return t;var r=[],i=0;return dl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function uT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},fl={transition:null},cT={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:fl,ReactCurrentOwner:Wd};ae.Children={map:ja,forEach:function(t,e,n){ja(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ja(t,function(){e++}),e},toArray:function(t){return ja(t,function(e){return e})||[]},only:function(t){if(!Hd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Po;ae.Fragment=X1;ae.Profiler=Z1;ae.PureComponent=Bd;ae.StrictMode=J1;ae.Suspense=rT;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cT;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zy({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Wd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qy.call(e,l)&&!Ky.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fa,type:t.type,key:i,ref:o,props:r,_owner:s}};ae.createContext=function(t){return t={$$typeof:tT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eT,_context:t},t.Consumer=t};ae.createElement=Qy;ae.createFactory=function(t){var e=Qy.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:nT,render:t}};ae.isValidElement=Hd;ae.lazy=function(t){return{$$typeof:oT,_payload:{_status:-1,_result:t},_init:uT}};ae.memo=function(t,e){return{$$typeof:iT,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=fl.transition;fl.transition={};try{t()}finally{fl.transition=e}};ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ae.useCallback=function(t,e){return Lt.current.useCallback(t,e)};ae.useContext=function(t){return Lt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Lt.current.useEffect(t,e)};ae.useId=function(){return Lt.current.useId()};ae.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Lt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};ae.useRef=function(t){return Lt.current.useRef(t)};ae.useState=function(t){return Lt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Lt.current.useTransition()};ae.version="18.2.0";jy.exports=ae;var P=jy.exports;const Gy=Uy(P),hT=Fy({__proto__:null,default:Gy},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT=P,fT=Symbol.for("react.element"),pT=Symbol.for("react.fragment"),mT=Object.prototype.hasOwnProperty,gT=dT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yT={key:!0,ref:!0,__self:!0,__source:!0};function Yy(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)mT.call(e,r)&&!yT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:fT,type:t,key:o,ref:s,props:i,_owner:gT.current}}_u.Fragment=pT;_u.jsx=Yy;_u.jsxs=Yy;$y.exports=_u;var O=$y.exports,hh={},Xy={exports:{}},nn={},Jy={exports:{}},Zy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,H){var q=M.length;M.push(H);e:for(;0<q;){var ce=q-1>>>1,ve=M[ce];if(0<i(ve,H))M[ce]=H,M[q]=ve,q=ce;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var H=M[0],q=M.pop();if(q!==H){M[0]=q;e:for(var ce=0,ve=M.length,Nt=ve>>>1;ce<Nt;){var He=2*(ce+1)-1,vt=M[He],Ye=He+1,sn=M[Ye];if(0>i(vt,q))Ye<ve&&0>i(sn,vt)?(M[ce]=sn,M[Ye]=q,ce=Ye):(M[ce]=vt,M[He]=q,ce=He);else if(Ye<ve&&0>i(sn,q))M[ce]=sn,M[Ye]=q,ce=Ye;else break e}}return H}function i(M,H){var q=M.sortIndex-H.sortIndex;return q!==0?q:M.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=M)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function T(M){if(g=!1,v(M),!p)if(n(l)!==null)p=!0,Kt(C);else{var H=n(u);H!==null&&_e(T,H.startTime-M)}}function C(M,H){p=!1,g&&(g=!1,y(D),D=-1),f=!0;var q=h;try{for(v(H),d=n(l);d!==null&&(!(d.expirationTime>H)||M&&!le());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,h=d.priorityLevel;var ve=ce(d.expirationTime<=H);H=t.unstable_now(),typeof ve=="function"?d.callback=ve:d===n(l)&&r(l),v(H)}else r(l);d=n(l)}if(d!==null)var Nt=!0;else{var He=n(u);He!==null&&_e(T,He.startTime-H),Nt=!1}return Nt}finally{d=null,h=q,f=!1}}var w=!1,A=null,D=-1,U=5,j=-1;function le(){return!(t.unstable_now()-j<U)}function Fe(){if(A!==null){var M=t.unstable_now();j=M;var H=!0;try{H=A(!0,M)}finally{H?Te():(w=!1,A=null)}}else w=!1}var Te;if(typeof m=="function")Te=function(){m(Fe)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,cr=at.port2;at.port1.onmessage=Fe,Te=function(){cr.postMessage(null)}}else Te=function(){_(Fe,0)};function Kt(M){A=M,w||(w=!0,Te())}function _e(M,H){D=_(function(){M(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Kt(C))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var q=h;h=H;try{return M()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=h;h=M;try{return H()}finally{h=q}},t.unstable_scheduleCallback=function(M,H,q){var ce=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ce+q:ce):q=ce,M){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=q+ve,M={id:c++,callback:H,priorityLevel:M,startTime:q,expirationTime:ve,sortIndex:-1},q>ce?(M.sortIndex=q,e(u,M),n(l)===null&&M===n(u)&&(g?(y(D),D=-1):g=!0,_e(T,q-ce))):(M.sortIndex=ve,e(l,M),p||f||(p=!0,Kt(C))),M},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(M){var H=h;return function(){var q=h;h=H;try{return M.apply(this,arguments)}finally{h=q}}}})(Zy);Jy.exports=Zy;var vT=Jy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=P,en=vT;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tv=new Set,xs={};function Ei(t,e){uo(t,e),uo(t+"Capture",e)}function uo(t,e){for(xs[t]=e,t=0;t<e.length;t++)tv.add(e[t])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dh=Object.prototype.hasOwnProperty,_T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jp={},Zp={};function wT(t){return dh.call(Zp,t)?!0:dh.call(Jp,t)?!1:_T.test(t)?Zp[t]=!0:(Jp[t]=!0,!1)}function ET(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TT(t,e,n,r){if(e===null||typeof e>"u"||ET(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var qd=/[\-:]([a-z])/g;function Kd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qd,Kd);yt[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qd,Kd);yt[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qd,Kd);yt[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qd(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TT(e,n,i,r)&&(n=null),r||i===null?wT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=Symbol.for("react.element"),Li=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),Gd=Symbol.for("react.strict_mode"),fh=Symbol.for("react.profiler"),nv=Symbol.for("react.provider"),rv=Symbol.for("react.context"),Yd=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),mh=Symbol.for("react.suspense_list"),Xd=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),iv=Symbol.for("react.offscreen"),em=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=em&&t[em]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,_c;function os(t){if(_c===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_c=e&&e[1]||""}return`
`+_c+t}var wc=!1;function Ec(t,e){if(!t||wc)return"";wc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{wc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?os(t):""}function ST(t){switch(t.tag){case 5:return os(t.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 2:case 15:return t=Ec(t.type,!1),t;case 11:return t=Ec(t.type.render,!1),t;case 1:return t=Ec(t.type,!0),t;default:return""}}function gh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fi:return"Fragment";case Li:return"Portal";case fh:return"Profiler";case Gd:return"StrictMode";case ph:return"Suspense";case mh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rv:return(t.displayName||"Context")+".Consumer";case nv:return(t._context.displayName||"Context")+".Provider";case Yd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xd:return e=t.displayName||null,e!==null?e:gh(t.type)||"Memo";case mr:e=t._payload,t=t._init;try{return gh(t(e))}catch{}}return null}function IT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gh(e);case 8:return e===Gd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ov(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AT(t){var e=ov(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function za(t){t._valueTracker||(t._valueTracker=AT(t))}function sv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ov(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yh(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function av(t,e){e=e.checked,e!=null&&Qd(t,"checked",e,!1)}function vh(t,e){av(t,e);var n=Vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_h(t,e.type,n):e.hasOwnProperty("defaultValue")&&_h(t,e.type,Vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _h(t,e,n){(e!=="number"||Cl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ss=Array.isArray;function Ji(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(ss(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vr(n)}}function lv(t,e){var n=Vr(e.value),r=Vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function im(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wa,cv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wa=Wa||document.createElement("div"),Wa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ds(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RT=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(t){RT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fs[e]=fs[t]})});function hv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fs.hasOwnProperty(t)&&fs[t]?(""+e).trim():e+"px"}function dv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PT=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Th(t,e){if(e){if(PT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function Sh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=null;function Jd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ah=null,Zi=null,eo=null;function om(t){if(t=ga(t)){if(typeof Ah!="function")throw Error(x(280));var e=t.stateNode;e&&(e=Iu(e),Ah(t.stateNode,t.type,e))}}function fv(t){Zi?eo?eo.push(t):eo=[t]:Zi=t}function pv(){if(Zi){var t=Zi,e=eo;if(eo=Zi=null,om(t),e)for(t=0;t<e.length;t++)om(e[t])}}function mv(t,e){return t(e)}function gv(){}var Tc=!1;function yv(t,e,n){if(Tc)return t(e,n);Tc=!0;try{return mv(t,e,n)}finally{Tc=!1,(Zi!==null||eo!==null)&&(gv(),pv())}}function Ns(t,e){var n=t.stateNode;if(n===null)return null;var r=Iu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Rh=!1;if(tr)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Rh=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Rh=!1}function CT(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ps=!1,kl=null,xl=!1,Ph=null,kT={onError:function(t){ps=!0,kl=t}};function xT(t,e,n,r,i,o,s,a,l){ps=!1,kl=null,CT.apply(kT,arguments)}function DT(t,e,n,r,i,o,s,a,l){if(xT.apply(this,arguments),ps){if(ps){var u=kl;ps=!1,kl=null}else throw Error(x(198));xl||(xl=!0,Ph=u)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sm(t){if(Ti(t)!==t)throw Error(x(188))}function NT(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return sm(i),t;if(o===r)return sm(i),e;o=o.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function _v(t){return t=NT(t),t!==null?wv(t):null}function wv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wv(t);if(e!==null)return e;t=t.sibling}return null}var Ev=en.unstable_scheduleCallback,am=en.unstable_cancelCallback,VT=en.unstable_shouldYield,bT=en.unstable_requestPaint,We=en.unstable_now,OT=en.unstable_getCurrentPriorityLevel,Zd=en.unstable_ImmediatePriority,Tv=en.unstable_UserBlockingPriority,Dl=en.unstable_NormalPriority,MT=en.unstable_LowPriority,Sv=en.unstable_IdlePriority,wu=null,Fn=null;function LT(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(wu,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:$T,FT=Math.log,UT=Math.LN2;function $T(t){return t>>>=0,t===0?32:31-(FT(t)/UT|0)|0}var Ha=64,qa=4194304;function as(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=as(a):(o&=s,o!==0&&(r=as(o)))}else s=n&~i,s!==0?r=as(s):o!==0&&(r=as(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function jT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-An(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=jT(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Ch(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Iv(){var t=Ha;return Ha<<=1,!(Ha&4194240)&&(Ha=64),t}function Sc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function zT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ef(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function Av(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rv,tf,Pv,Cv,kv,kh=!1,Ka=[],Tr=null,Sr=null,Ir=null,Vs=new Map,bs=new Map,yr=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lm(t,e){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Vs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(e.pointerId)}}function Ho(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ga(e),e!==null&&tf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HT(t,e,n,r,i){switch(e){case"focusin":return Tr=Ho(Tr,t,e,n,r,i),!0;case"dragenter":return Sr=Ho(Sr,t,e,n,r,i),!0;case"mouseover":return Ir=Ho(Ir,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vs.set(o,Ho(Vs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,bs.set(o,Ho(bs.get(o)||null,t,e,n,r,i)),!0}return!1}function xv(t){var e=Zr(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=vv(n),e!==null){t.blockedOn=e,kv(t.priority,function(){Pv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ih=r,n.target.dispatchEvent(r),Ih=null}else return e=ga(n),e!==null&&tf(e),t.blockedOn=n,!1;e.shift()}return!0}function um(t,e,n){pl(t)&&n.delete(e)}function qT(){kh=!1,Tr!==null&&pl(Tr)&&(Tr=null),Sr!==null&&pl(Sr)&&(Sr=null),Ir!==null&&pl(Ir)&&(Ir=null),Vs.forEach(um),bs.forEach(um)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,kh||(kh=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,qT)))}function Os(t){function e(i){return qo(i,t)}if(0<Ka.length){qo(Ka[0],t);for(var n=1;n<Ka.length;n++){var r=Ka[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&qo(Tr,t),Sr!==null&&qo(Sr,t),Ir!==null&&qo(Ir,t),Vs.forEach(e),bs.forEach(e),n=0;n<yr.length;n++)r=yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yr.length&&(n=yr[0],n.blockedOn===null);)xv(n),n.blockedOn===null&&yr.shift()}var to=ar.ReactCurrentBatchConfig,Vl=!0;function KT(t,e,n,r){var i=we,o=to.transition;to.transition=null;try{we=1,nf(t,e,n,r)}finally{we=i,to.transition=o}}function QT(t,e,n,r){var i=we,o=to.transition;to.transition=null;try{we=4,nf(t,e,n,r)}finally{we=i,to.transition=o}}function nf(t,e,n,r){if(Vl){var i=xh(t,e,n,r);if(i===null)Vc(t,e,r,bl,n),lm(t,r);else if(HT(i,t,e,n,r))r.stopPropagation();else if(lm(t,r),e&4&&-1<WT.indexOf(t)){for(;i!==null;){var o=ga(i);if(o!==null&&Rv(o),o=xh(t,e,n,r),o===null&&Vc(t,e,r,bl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vc(t,e,r,null,n)}}var bl=null;function xh(t,e,n,r){if(bl=null,t=Jd(r),t=Zr(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bl=t,null}function Dv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OT()){case Zd:return 1;case Tv:return 4;case Dl:case MT:return 16;case Sv:return 536870912;default:return 16}default:return 16}}var _r=null,rf=null,ml=null;function Nv(){if(ml)return ml;var t,e=rf,n=e.length,r,i="value"in _r?_r.value:_r.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ml=i.slice(t,1<r?1-r:void 0)}function gl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qa(){return!0}function cm(){return!1}function rn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qa:cm,this.isPropagationStopped=cm,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),e}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},of=rn(Co),ma=Me({},Co,{view:0,detail:0}),GT=rn(ma),Ic,Ac,Ko,Eu=Me({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?(Ic=t.screenX-Ko.screenX,Ac=t.screenY-Ko.screenY):Ac=Ic=0,Ko=t),Ic)},movementY:function(t){return"movementY"in t?t.movementY:Ac}}),hm=rn(Eu),YT=Me({},Eu,{dataTransfer:0}),XT=rn(YT),JT=Me({},ma,{relatedTarget:0}),Rc=rn(JT),ZT=Me({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),eS=rn(ZT),tS=Me({},Co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nS=rn(tS),rS=Me({},Co,{data:0}),dm=rn(rS),iS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sS[t])?!!e[t]:!1}function sf(){return aS}var lS=Me({},ma,{key:function(t){if(t.key){var e=iS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sf,charCode:function(t){return t.type==="keypress"?gl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uS=rn(lS),cS=Me({},Eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=rn(cS),hS=Me({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sf}),dS=rn(hS),fS=Me({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),pS=rn(fS),mS=Me({},Eu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gS=rn(mS),yS=[9,13,27,32],af=tr&&"CompositionEvent"in window,ms=null;tr&&"documentMode"in document&&(ms=document.documentMode);var vS=tr&&"TextEvent"in window&&!ms,Vv=tr&&(!af||ms&&8<ms&&11>=ms),pm=" ",mm=!1;function bv(t,e){switch(t){case"keyup":return yS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ov(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function _S(t,e){switch(t){case"compositionend":return Ov(e);case"keypress":return e.which!==32?null:(mm=!0,pm);case"textInput":return t=e.data,t===pm&&mm?null:t;default:return null}}function wS(t,e){if(Ui)return t==="compositionend"||!af&&bv(t,e)?(t=Nv(),ml=rf=_r=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vv&&e.locale!=="ko"?null:e.data;default:return null}}var ES={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ES[t.type]:e==="textarea"}function Mv(t,e,n,r){fv(r),e=Ol(e,"onChange"),0<e.length&&(n=new of("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gs=null,Ms=null;function TS(t){Kv(t,0)}function Tu(t){var e=Bi(t);if(sv(e))return t}function SS(t,e){if(t==="change")return e}var Lv=!1;if(tr){var Pc;if(tr){var Cc="oninput"in document;if(!Cc){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Cc=typeof ym.oninput=="function"}Pc=Cc}else Pc=!1;Lv=Pc&&(!document.documentMode||9<document.documentMode)}function vm(){gs&&(gs.detachEvent("onpropertychange",Fv),Ms=gs=null)}function Fv(t){if(t.propertyName==="value"&&Tu(Ms)){var e=[];Mv(e,Ms,t,Jd(t)),yv(TS,e)}}function IS(t,e,n){t==="focusin"?(vm(),gs=e,Ms=n,gs.attachEvent("onpropertychange",Fv)):t==="focusout"&&vm()}function AS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Ms)}function RS(t,e){if(t==="click")return Tu(e)}function PS(t,e){if(t==="input"||t==="change")return Tu(e)}function CS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:CS;function Ls(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dh.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function _m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wm(t,e){var n=_m(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_m(n)}}function Uv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $v(){for(var t=window,e=Cl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cl(t.document)}return e}function lf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kS(t){var e=$v(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Uv(n.ownerDocument.documentElement,n)){if(r!==null&&lf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=wm(n,o);var s=wm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xS=tr&&"documentMode"in document&&11>=document.documentMode,$i=null,Dh=null,ys=null,Nh=!1;function Em(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nh||$i==null||$i!==Cl(r)||(r=$i,"selectionStart"in r&&lf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ys&&Ls(ys,r)||(ys=r,r=Ol(Dh,"onSelect"),0<r.length&&(e=new of("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function Ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ji={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},kc={},jv={};tr&&(jv=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function Su(t){if(kc[t])return kc[t];if(!ji[t])return t;var e=ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jv)return kc[t]=e[n];return t}var Bv=Su("animationend"),zv=Su("animationiteration"),Wv=Su("animationstart"),Hv=Su("transitionend"),qv=new Map,Tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(t,e){qv.set(t,e),Ei(e,[t])}for(var xc=0;xc<Tm.length;xc++){var Dc=Tm[xc],DS=Dc.toLowerCase(),NS=Dc[0].toUpperCase()+Dc.slice(1);Fr(DS,"on"+NS)}Fr(Bv,"onAnimationEnd");Fr(zv,"onAnimationIteration");Fr(Wv,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(Hv,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function Sm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DT(r,e,void 0,t),t.currentTarget=null}function Kv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Sm(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Sm(i,a,u),o=l}}}if(xl)throw t=Ph,xl=!1,Ph=null,t}function ke(t,e){var n=e[Lh];n===void 0&&(n=e[Lh]=new Set);var r=t+"__bubble";n.has(r)||(Qv(e,t,2,!1),n.add(r))}function Nc(t,e,n){var r=0;e&&(r|=4),Qv(n,t,r,e)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function Fs(t){if(!t[Ya]){t[Ya]=!0,tv.forEach(function(n){n!=="selectionchange"&&(VS.has(n)||Nc(n,!1,t),Nc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ya]||(e[Ya]=!0,Nc("selectionchange",!1,e))}}function Qv(t,e,n,r){switch(Dv(e)){case 1:var i=KT;break;case 4:i=QT;break;default:i=nf}n=i.bind(null,e,n,t),i=void 0,!Rh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Zr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}yv(function(){var u=o,c=Jd(n),d=[];e:{var h=qv.get(t);if(h!==void 0){var f=of,p=t;switch(t){case"keypress":if(gl(n)===0)break e;case"keydown":case"keyup":f=uS;break;case"focusin":p="focus",f=Rc;break;case"focusout":p="blur",f=Rc;break;case"beforeblur":case"afterblur":f=Rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=hm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=XT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=dS;break;case Bv:case zv:case Wv:f=eS;break;case Hv:f=pS;break;case"scroll":f=GT;break;case"wheel":f=gS;break;case"copy":case"cut":case"paste":f=nS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=fm}var g=(e&4)!==0,_=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var m=u,v;m!==null;){v=m;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,y!==null&&(T=Ns(m,y),T!=null&&g.push(Us(m,T,v)))),_)break;m=m.return}0<g.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Ih&&(p=n.relatedTarget||n.fromElement)&&(Zr(p)||p[nr]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Zr(p):null,p!==null&&(_=Ti(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=hm,T="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=fm,T="onPointerLeave",y="onPointerEnter",m="pointer"),_=f==null?h:Bi(f),v=p==null?h:Bi(p),h=new g(T,m+"leave",f,n,c),h.target=_,h.relatedTarget=v,T=null,Zr(c)===u&&(g=new g(y,m+"enter",p,n,c),g.target=v,g.relatedTarget=_,T=g),_=T,f&&p)t:{for(g=f,y=p,m=0,v=g;v;v=Di(v))m++;for(v=0,T=y;T;T=Di(T))v++;for(;0<m-v;)g=Di(g),m--;for(;0<v-m;)y=Di(y),v--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=Di(g),y=Di(y)}g=null}else g=null;f!==null&&Im(d,h,f,g,!1),p!==null&&_!==null&&Im(d,_,p,g,!0)}}e:{if(h=u?Bi(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=SS;else if(gm(h))if(Lv)C=PS;else{C=AS;var w=IS}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=RS);if(C&&(C=C(t,u))){Mv(d,C,n,c);break e}w&&w(t,h,u),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&_h(h,"number",h.value)}switch(w=u?Bi(u):window,t){case"focusin":(gm(w)||w.contentEditable==="true")&&($i=w,Dh=u,ys=null);break;case"focusout":ys=Dh=$i=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Em(d,n,c);break;case"selectionchange":if(xS)break;case"keydown":case"keyup":Em(d,n,c)}var A;if(af)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ui?bv(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Vv&&n.locale!=="ko"&&(Ui||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ui&&(A=Nv()):(_r=c,rf="value"in _r?_r.value:_r.textContent,Ui=!0)),w=Ol(u,D),0<w.length&&(D=new dm(D,t,null,n,c),d.push({event:D,listeners:w}),A?D.data=A:(A=Ov(n),A!==null&&(D.data=A)))),(A=vS?_S(t,n):wS(t,n))&&(u=Ol(u,"onBeforeInput"),0<u.length&&(c=new dm("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}Kv(d,e)})}function Us(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ns(t,n),o!=null&&r.unshift(Us(t,o,i)),o=Ns(t,e),o!=null&&r.push(Us(t,o,i))),t=t.return}return r}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Im(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ns(n,o),l!=null&&s.unshift(Us(n,l,a))):i||(l=Ns(n,o),l!=null&&s.push(Us(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var bS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function Am(t){return(typeof t=="string"?t:""+t).replace(bS,`
`).replace(OS,"")}function Xa(t,e,n){if(e=Am(e),Am(t)!==e&&n)throw Error(x(425))}function Ml(){}var Vh=null,bh=null;function Oh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,Rm=typeof Promise=="function"?Promise:void 0,LS=typeof queueMicrotask=="function"?queueMicrotask:typeof Rm<"u"?function(t){return Rm.resolve(null).then(t).catch(FS)}:Mh;function FS(t){setTimeout(function(){throw t})}function bc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Os(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Os(e)}function Ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ko=Math.random().toString(36).slice(2),Vn="__reactFiber$"+ko,$s="__reactProps$"+ko,nr="__reactContainer$"+ko,Lh="__reactEvents$"+ko,US="__reactListeners$"+ko,$S="__reactHandles$"+ko;function Zr(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nr]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pm(t);t!==null;){if(n=t[Vn])return n;t=Pm(t)}return e}t=n,n=t.parentNode}return null}function ga(t){return t=t[Vn]||t[nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function Iu(t){return t[$s]||null}var Fh=[],zi=-1;function Ur(t){return{current:t}}function De(t){0>zi||(t.current=Fh[zi],Fh[zi]=null,zi--)}function Re(t,e){zi++,Fh[zi]=t.current,t.current=e}var br={},kt=Ur(br),zt=Ur(!1),hi=br;function co(t,e){var n=t.type.contextTypes;if(!n)return br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(t){return t=t.childContextTypes,t!=null}function Ll(){De(zt),De(kt)}function Cm(t,e,n){if(kt.current!==br)throw Error(x(168));Re(kt,e),Re(zt,n)}function Gv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,IT(t)||"Unknown",i));return Me({},n,r)}function Fl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,hi=kt.current,Re(kt,t),Re(zt,zt.current),!0}function km(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=Gv(t,e,hi),r.__reactInternalMemoizedMergedChildContext=t,De(zt),De(kt),Re(kt,t)):De(zt),Re(zt,n)}var Kn=null,Au=!1,Oc=!1;function Yv(t){Kn===null?Kn=[t]:Kn.push(t)}function jS(t){Au=!0,Yv(t)}function $r(){if(!Oc&&Kn!==null){Oc=!0;var t=0,e=we;try{var n=Kn;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kn=null,Au=!1}catch(i){throw Kn!==null&&(Kn=Kn.slice(t+1)),Ev(Zd,$r),i}finally{we=e,Oc=!1}}return null}var Wi=[],Hi=0,Ul=null,$l=0,un=[],cn=0,di=null,Qn=1,Gn="";function Gr(t,e){Wi[Hi++]=$l,Wi[Hi++]=Ul,Ul=t,$l=e}function Xv(t,e,n){un[cn++]=Qn,un[cn++]=Gn,un[cn++]=di,di=t;var r=Qn;t=Gn;var i=32-An(r)-1;r&=~(1<<i),n+=1;var o=32-An(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qn=1<<32-An(e)+i|n<<i|r,Gn=o+t}else Qn=1<<o|n<<i|r,Gn=t}function uf(t){t.return!==null&&(Gr(t,1),Xv(t,1,0))}function cf(t){for(;t===Ul;)Ul=Wi[--Hi],Wi[Hi]=null,$l=Wi[--Hi],Wi[Hi]=null;for(;t===di;)di=un[--cn],un[cn]=null,Gn=un[--cn],un[cn]=null,Qn=un[--cn],un[cn]=null}var Zt=null,Jt=null,Ne=!1,Sn=null;function Jv(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=Ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=di!==null?{id:Qn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Jt=null,!0):!1;default:return!1}}function Uh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $h(t){if(Ne){var e=Jt;if(e){var n=e;if(!xm(t,e)){if(Uh(t))throw Error(x(418));e=Ar(n.nextSibling);var r=Zt;e&&xm(t,e)?Jv(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Zt=t)}}else{if(Uh(t))throw Error(x(418));t.flags=t.flags&-4097|2,Ne=!1,Zt=t}}}function Dm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Ja(t){if(t!==Zt)return!1;if(!Ne)return Dm(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Oh(t.type,t.memoizedProps)),e&&(e=Jt)){if(Uh(t))throw Zv(),Error(x(418));for(;e;)Jv(t,e),e=Ar(e.nextSibling)}if(Dm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=Ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=Zt?Ar(t.stateNode.nextSibling):null;return!0}function Zv(){for(var t=Jt;t;)t=Ar(t.nextSibling)}function ho(){Jt=Zt=null,Ne=!1}function hf(t){Sn===null?Sn=[t]:Sn.push(t)}var BS=ar.ReactCurrentBatchConfig;function wn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var jl=Ur(null),Bl=null,qi=null,df=null;function ff(){df=qi=Bl=null}function pf(t){var e=jl.current;De(jl),t._currentValue=e}function jh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function no(t,e){Bl=t,df=qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(df!==t)if(t={context:t,memoizedValue:e,next:null},qi===null){if(Bl===null)throw Error(x(308));qi=t,Bl.dependencies={lanes:0,firstContext:t}}else qi=qi.next=t;return e}var ei=null;function mf(t){ei===null?ei=[t]:ei.push(t)}function e_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mf(e)):(n.next=i.next,i.next=n),e.interleaved=n,rr(t,r)}function rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gr=!1;function gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rr(t,n)}return i=r.interleaved,i===null?(e.next=e,mf(r)):(e.next=i.next,i.next=e),r.interleaved=e,rr(t,n)}function yl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ef(t,n)}}function Nm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zl(t,e,n,r){var i=t.updateQueue;gr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Me({},d,h);break e;case 2:gr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);pi|=s,t.lanes=s,t.memoizedState=d}}function Vm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var n_=new ev.Component().refs;function Bh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ru={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Cr(t),o=Xn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Rr(t,o,i),e!==null&&(Rn(e,t,i,r),yl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Cr(t),o=Xn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Rr(t,o,i),e!==null&&(Rn(e,t,i,r),yl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Cr(t),i=Xn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rr(t,i,r),e!==null&&(Rn(e,t,r,n),yl(e,t,r))}};function bm(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ls(n,r)||!Ls(i,o):!0}function r_(t,e,n){var r=!1,i=br,o=e.contextType;return typeof o=="object"&&o!==null?o=gn(o):(i=Wt(e)?hi:kt.current,r=e.contextTypes,o=(r=r!=null)?co(t,i):br),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ru,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Om(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ru.enqueueReplaceState(e,e.state,null)}function zh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=n_,gf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=gn(o):(o=Wt(e)?hi:kt.current,i.context=co(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Bh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ru.enqueueReplaceState(i,i.state,null),zl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===n_&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function Za(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mm(t){var e=t._init;return e(t._payload)}function i_(t){function e(y,m){if(t){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=kr(y,m),y.index=0,y.sibling=null,y}function o(y,m,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,T){return m===null||m.tag!==6?(m=Bc(v,y.mode,T),m.return=y,m):(m=i(m,v),m.return=y,m)}function l(y,m,v,T){var C=v.type;return C===Fi?c(y,m,v.props.children,T,v.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===mr&&Mm(C)===m.type)?(T=i(m,v.props),T.ref=Qo(y,m,v),T.return=y,T):(T=Sl(v.type,v.key,v.props,null,y.mode,T),T.ref=Qo(y,m,v),T.return=y,T)}function u(y,m,v,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=zc(v,y.mode,T),m.return=y,m):(m=i(m,v.children||[]),m.return=y,m)}function c(y,m,v,T,C){return m===null||m.tag!==7?(m=ui(v,y.mode,T,C),m.return=y,m):(m=i(m,v),m.return=y,m)}function d(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Bc(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ba:return v=Sl(m.type,m.key,m.props,null,y.mode,v),v.ref=Qo(y,null,m),v.return=y,v;case Li:return m=zc(m,y.mode,v),m.return=y,m;case mr:var T=m._init;return d(y,T(m._payload),v)}if(ss(m)||zo(m))return m=ui(m,y.mode,v,null),m.return=y,m;Za(y,m)}return null}function h(y,m,v,T){var C=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(y,m,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ba:return v.key===C?l(y,m,v,T):null;case Li:return v.key===C?u(y,m,v,T):null;case mr:return C=v._init,h(y,m,C(v._payload),T)}if(ss(v)||zo(v))return C!==null?null:c(y,m,v,T,null);Za(y,v)}return null}function f(y,m,v,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(v)||null,a(m,y,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ba:return y=y.get(T.key===null?v:T.key)||null,l(m,y,T,C);case Li:return y=y.get(T.key===null?v:T.key)||null,u(m,y,T,C);case mr:var w=T._init;return f(y,m,v,w(T._payload),C)}if(ss(T)||zo(T))return y=y.get(v)||null,c(m,y,T,C,null);Za(m,T)}return null}function p(y,m,v,T){for(var C=null,w=null,A=m,D=m=0,U=null;A!==null&&D<v.length;D++){A.index>D?(U=A,A=null):U=A.sibling;var j=h(y,A,v[D],T);if(j===null){A===null&&(A=U);break}t&&A&&j.alternate===null&&e(y,A),m=o(j,m,D),w===null?C=j:w.sibling=j,w=j,A=U}if(D===v.length)return n(y,A),Ne&&Gr(y,D),C;if(A===null){for(;D<v.length;D++)A=d(y,v[D],T),A!==null&&(m=o(A,m,D),w===null?C=A:w.sibling=A,w=A);return Ne&&Gr(y,D),C}for(A=r(y,A);D<v.length;D++)U=f(A,y,D,v[D],T),U!==null&&(t&&U.alternate!==null&&A.delete(U.key===null?D:U.key),m=o(U,m,D),w===null?C=U:w.sibling=U,w=U);return t&&A.forEach(function(le){return e(y,le)}),Ne&&Gr(y,D),C}function g(y,m,v,T){var C=zo(v);if(typeof C!="function")throw Error(x(150));if(v=C.call(v),v==null)throw Error(x(151));for(var w=C=null,A=m,D=m=0,U=null,j=v.next();A!==null&&!j.done;D++,j=v.next()){A.index>D?(U=A,A=null):U=A.sibling;var le=h(y,A,j.value,T);if(le===null){A===null&&(A=U);break}t&&A&&le.alternate===null&&e(y,A),m=o(le,m,D),w===null?C=le:w.sibling=le,w=le,A=U}if(j.done)return n(y,A),Ne&&Gr(y,D),C;if(A===null){for(;!j.done;D++,j=v.next())j=d(y,j.value,T),j!==null&&(m=o(j,m,D),w===null?C=j:w.sibling=j,w=j);return Ne&&Gr(y,D),C}for(A=r(y,A);!j.done;D++,j=v.next())j=f(A,y,D,j.value,T),j!==null&&(t&&j.alternate!==null&&A.delete(j.key===null?D:j.key),m=o(j,m,D),w===null?C=j:w.sibling=j,w=j);return t&&A.forEach(function(Fe){return e(y,Fe)}),Ne&&Gr(y,D),C}function _(y,m,v,T){if(typeof v=="object"&&v!==null&&v.type===Fi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ba:e:{for(var C=v.key,w=m;w!==null;){if(w.key===C){if(C=v.type,C===Fi){if(w.tag===7){n(y,w.sibling),m=i(w,v.props.children),m.return=y,y=m;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===mr&&Mm(C)===w.type){n(y,w.sibling),m=i(w,v.props),m.ref=Qo(y,w,v),m.return=y,y=m;break e}n(y,w);break}else e(y,w);w=w.sibling}v.type===Fi?(m=ui(v.props.children,y.mode,T,v.key),m.return=y,y=m):(T=Sl(v.type,v.key,v.props,null,y.mode,T),T.ref=Qo(y,m,v),T.return=y,y=T)}return s(y);case Li:e:{for(w=v.key;m!==null;){if(m.key===w)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=i(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=zc(v,y.mode,T),m.return=y,y=m}return s(y);case mr:return w=v._init,_(y,m,w(v._payload),T)}if(ss(v))return p(y,m,v,T);if(zo(v))return g(y,m,v,T);Za(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,v),m.return=y,y=m):(n(y,m),m=Bc(v,y.mode,T),m.return=y,y=m),s(y)):n(y,m)}return _}var fo=i_(!0),o_=i_(!1),ya={},Un=Ur(ya),js=Ur(ya),Bs=Ur(ya);function ti(t){if(t===ya)throw Error(x(174));return t}function yf(t,e){switch(Re(Bs,e),Re(js,t),Re(Un,ya),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Eh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Eh(e,t)}De(Un),Re(Un,e)}function po(){De(Un),De(js),De(Bs)}function s_(t){ti(Bs.current);var e=ti(Un.current),n=Eh(e,t.type);e!==n&&(Re(js,t),Re(Un,n))}function vf(t){js.current===t&&(De(Un),De(js))}var be=Ur(0);function Wl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mc=[];function _f(){for(var t=0;t<Mc.length;t++)Mc[t]._workInProgressVersionPrimary=null;Mc.length=0}var vl=ar.ReactCurrentDispatcher,Lc=ar.ReactCurrentBatchConfig,fi=0,Oe=null,Xe=null,rt=null,Hl=!1,vs=!1,zs=0,zS=0;function _t(){throw Error(x(321))}function wf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function Ef(t,e,n,r,i,o){if(fi=o,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vl.current=t===null||t.memoizedState===null?KS:QS,t=n(r,i),vs){o=0;do{if(vs=!1,zs=0,25<=o)throw Error(x(301));o+=1,rt=Xe=null,e.updateQueue=null,vl.current=GS,t=n(r,i)}while(vs)}if(vl.current=ql,e=Xe!==null&&Xe.next!==null,fi=0,rt=Xe=Oe=null,Hl=!1,e)throw Error(x(300));return t}function Tf(){var t=zs!==0;return zs=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Oe.memoizedState=rt=t:rt=rt.next=t,rt}function yn(){if(Xe===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?Oe.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(x(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?Oe.memoizedState=rt=t:rt=rt.next=t}return rt}function Ws(t,e){return typeof e=="function"?e(t):e}function Fc(t){var e=yn(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((fi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Oe.lanes|=c,pi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Pn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Oe.lanes|=o,pi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Uc(t){var e=yn(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Pn(o,e.memoizedState)||(Bt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function a_(){}function l_(t,e){var n=Oe,r=yn(),i=e(),o=!Pn(r.memoizedState,i);if(o&&(r.memoizedState=i,Bt=!0),r=r.queue,Sf(h_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Hs(9,c_.bind(null,n,r,i,e),void 0,null),it===null)throw Error(x(349));fi&30||u_(n,e,i)}return i}function u_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c_(t,e,n,r){e.value=n,e.getSnapshot=r,d_(e)&&f_(t)}function h_(t,e,n){return n(function(){d_(e)&&f_(t)})}function d_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function f_(t){var e=rr(t,1);e!==null&&Rn(e,t,1,-1)}function Lm(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:t},e.queue=t,t=t.dispatch=qS.bind(null,Oe,t),[e.memoizedState,t]}function Hs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p_(){return yn().memoizedState}function _l(t,e,n,r){var i=Nn();Oe.flags|=t,i.memoizedState=Hs(1|e,n,void 0,r===void 0?null:r)}function Pu(t,e,n,r){var i=yn();r=r===void 0?null:r;var o=void 0;if(Xe!==null){var s=Xe.memoizedState;if(o=s.destroy,r!==null&&wf(r,s.deps)){i.memoizedState=Hs(e,n,o,r);return}}Oe.flags|=t,i.memoizedState=Hs(1|e,n,o,r)}function Fm(t,e){return _l(8390656,8,t,e)}function Sf(t,e){return Pu(2048,8,t,e)}function m_(t,e){return Pu(4,2,t,e)}function g_(t,e){return Pu(4,4,t,e)}function y_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function v_(t,e,n){return n=n!=null?n.concat([t]):null,Pu(4,4,y_.bind(null,e,t),n)}function If(){}function __(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function w_(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function E_(t,e,n){return fi&21?(Pn(n,e)||(n=Iv(),Oe.lanes|=n,pi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function WS(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Lc.transition;Lc.transition={};try{t(!1),e()}finally{we=n,Lc.transition=r}}function T_(){return yn().memoizedState}function HS(t,e,n){var r=Cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},S_(t))I_(e,n);else if(n=e_(t,e,n,r),n!==null){var i=Mt();Rn(n,t,r,i),A_(n,e,r)}}function qS(t,e,n){var r=Cr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(S_(t))I_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,s)){var l=e.interleaved;l===null?(i.next=i,mf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=e_(t,e,i,r),n!==null&&(i=Mt(),Rn(n,t,r,i),A_(n,e,r))}}function S_(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function I_(t,e){vs=Hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function A_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ef(t,n)}}var ql={readContext:gn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},KS={readContext:gn,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:Fm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_l(4194308,4,y_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _l(4194308,4,t,e)},useInsertionEffect:function(t,e){return _l(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HS.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:Lm,useDebugValue:If,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=Lm(!1),e=t[0];return t=WS.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=Nn();if(Ne){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),it===null)throw Error(x(349));fi&30||u_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Fm(h_.bind(null,r,o,t),[t]),r.flags|=2048,Hs(9,c_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Nn(),e=it.identifierPrefix;if(Ne){var n=Gn,r=Qn;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QS={readContext:gn,useCallback:__,useContext:gn,useEffect:Sf,useImperativeHandle:v_,useInsertionEffect:m_,useLayoutEffect:g_,useMemo:w_,useReducer:Fc,useRef:p_,useState:function(){return Fc(Ws)},useDebugValue:If,useDeferredValue:function(t){var e=yn();return E_(e,Xe.memoizedState,t)},useTransition:function(){var t=Fc(Ws)[0],e=yn().memoizedState;return[t,e]},useMutableSource:a_,useSyncExternalStore:l_,useId:T_,unstable_isNewReconciler:!1},GS={readContext:gn,useCallback:__,useContext:gn,useEffect:Sf,useImperativeHandle:v_,useInsertionEffect:m_,useLayoutEffect:g_,useMemo:w_,useReducer:Uc,useRef:p_,useState:function(){return Uc(Ws)},useDebugValue:If,useDeferredValue:function(t){var e=yn();return Xe===null?e.memoizedState=t:E_(e,Xe.memoizedState,t)},useTransition:function(){var t=Uc(Ws)[0],e=yn().memoizedState;return[t,e]},useMutableSource:a_,useSyncExternalStore:l_,useId:T_,unstable_isNewReconciler:!1};function mo(t,e){try{var n="",r=e;do n+=ST(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $c(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YS=typeof WeakMap=="function"?WeakMap:Map;function R_(t,e,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ql||(Ql=!0,ed=r),Wh(t,e)},n}function P_(t,e,n){n=Xn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wh(t,e),typeof r!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Um(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=cI.bind(null,t,e,n),e.then(t,t))}function $m(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xn(-1,1),e.tag=2,Rr(n,e,1))),n.lanes|=1),t)}var XS=ar.ReactCurrentOwner,Bt=!1;function bt(t,e,n,r){e.child=t===null?o_(e,null,n,r):fo(e,t.child,n,r)}function Bm(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=Ef(t,e,n,r,o,i),n=Tf(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(Ne&&n&&uf(e),e.flags|=1,bt(t,e,r,i),e.child)}function zm(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Nf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,C_(t,e,o,r,i)):(t=Sl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ls,n(s,r)&&t.ref===e.ref)return ir(t,e,i)}return e.flags|=1,t=kr(o,r),t.ref=e.ref,t.return=e,e.child=t}function C_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ls(o,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,ir(t,e,i)}return Hh(t,e,n,r,i)}function k_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Qi,Xt),Xt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Qi,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Re(Qi,Xt),Xt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Re(Qi,Xt),Xt|=r;return bt(t,e,i,n),e.child}function x_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hh(t,e,n,r,i){var o=Wt(n)?hi:kt.current;return o=co(e,o),no(e,i),n=Ef(t,e,n,r,o,i),r=Tf(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(Ne&&r&&uf(e),e.flags|=1,bt(t,e,n,i),e.child)}function Wm(t,e,n,r,i){if(Wt(n)){var o=!0;Fl(e)}else o=!1;if(no(e,i),e.stateNode===null)wl(t,e),r_(e,n,r),zh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=gn(u):(u=Wt(n)?hi:kt.current,u=co(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Om(e,s,r,u),gr=!1;var h=e.memoizedState;s.state=h,zl(e,r,s,i),l=e.memoizedState,a!==r||h!==l||zt.current||gr?(typeof c=="function"&&(Bh(e,n,c,r),l=e.memoizedState),(a=gr||bm(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,t_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wn(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=gn(l):(l=Wt(n)?hi:kt.current,l=co(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Om(e,s,r,l),gr=!1,h=e.memoizedState,s.state=h,zl(e,r,s,i);var p=e.memoizedState;a!==d||h!==p||zt.current||gr?(typeof f=="function"&&(Bh(e,n,f,r),p=e.memoizedState),(u=gr||bm(e,n,u,r,h,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qh(t,e,n,r,o,i)}function qh(t,e,n,r,i,o){x_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&km(e,n,!1),ir(t,e,o);r=e.stateNode,XS.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=fo(e,t.child,null,o),e.child=fo(e,null,a,o)):bt(t,e,a,o),e.memoizedState=r.state,i&&km(e,n,!0),e.child}function D_(t){var e=t.stateNode;e.pendingContext?Cm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cm(t,e.context,!1),yf(t,e.containerInfo)}function Hm(t,e,n,r,i){return ho(),hf(i),e.flags|=256,bt(t,e,n,r),e.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Qh(t){return{baseLanes:t,cachePool:null,transitions:null}}function N_(t,e,n){var r=e.pendingProps,i=be.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re(be,i&1),t===null)return $h(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=xu(s,r,0,null),t=ui(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Qh(n),e.memoizedState=Kh,t):Af(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return JS(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=kr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=kr(a,o):(o=ui(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Qh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Kh,r}return o=t.child,t=o.sibling,r=kr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Af(t,e){return e=xu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function el(t,e,n,r){return r!==null&&hf(r),fo(e,t.child,null,n),t=Af(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=$c(Error(x(422))),el(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=xu({mode:"visible",children:r.children},i,0,null),o=ui(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&fo(e,t.child,null,s),e.child.memoizedState=Qh(s),e.memoizedState=Kh,o);if(!(e.mode&1))return el(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(x(419)),r=$c(o,r,void 0),el(t,e,s,r)}if(a=(s&t.childLanes)!==0,Bt||a){if(r=it,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,rr(t,i),Rn(r,t,i,-1))}return Df(),r=$c(Error(x(421))),el(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hI.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Jt=Ar(i.nextSibling),Zt=e,Ne=!0,Sn=null,t!==null&&(un[cn++]=Qn,un[cn++]=Gn,un[cn++]=di,Qn=t.id,Gn=t.overflow,di=e),e=Af(e,r.children),e.flags|=4096,e)}function qm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jh(t.return,e,n)}function jc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function V_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(bt(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qm(t,n,e);else if(t.tag===19)qm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jc(e,!0,n,null,o);break;case"together":jc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZS(t,e,n){switch(e.tag){case 3:D_(e),ho();break;case 5:s_(e);break;case 1:Wt(e.type)&&Fl(e);break;case 4:yf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Re(jl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?N_(t,e,n):(Re(be,be.current&1),t=ir(t,e,n),t!==null?t.sibling:null);Re(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,k_(t,e,n)}return ir(t,e,n)}var b_,Gh,O_,M_;b_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gh=function(){};O_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ti(Un.current);var o=null;switch(n){case"input":i=yh(t,i),r=yh(t,r),o=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),o=[];break;case"textarea":i=wh(t,i),r=wh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ml)}Th(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};M_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Go(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eI(t,e,n){var r=e.pendingProps;switch(cf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Wt(e.type)&&Ll(),wt(e),null;case 3:return r=e.stateNode,po(),De(zt),De(kt),_f(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ja(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(rd(Sn),Sn=null))),Gh(t,e),wt(e),null;case 5:vf(e);var i=ti(Bs.current);if(n=e.type,t!==null&&e.stateNode!=null)O_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return wt(e),null}if(t=ti(Un.current),Ja(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Vn]=e,r[$s]=o,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<ls.length;i++)ke(ls[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":tm(r,o),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ke("invalid",r);break;case"textarea":rm(r,o),ke("invalid",r)}Th(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Xa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Xa(r.textContent,a,t),i=["children",""+a]):xs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ke("scroll",r)}switch(n){case"input":za(r),nm(r,o,!0);break;case"textarea":za(r),im(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ml)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Vn]=e,t[$s]=r,b_(t,e,!1,!1),e.stateNode=t;e:{switch(s=Sh(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<ls.length;i++)ke(ls[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":tm(t,r),i=yh(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),ke("invalid",t);break;case"textarea":rm(t,r),i=wh(t,r),ke("invalid",t);break;default:i=r}Th(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?dv(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cv(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ds(t,l):typeof l=="number"&&Ds(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ke("scroll",t):l!=null&&Qd(t,o,l,s))}switch(n){case"input":za(t),nm(t,r,!1);break;case"textarea":za(t),im(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ji(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)M_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=ti(Bs.current),ti(Un.current),Ja(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(o=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:Xa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return wt(e),null;case 13:if(De(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Jt!==null&&e.mode&1&&!(e.flags&128))Zv(),ho(),e.flags|=98560,o=!1;else if(o=Ja(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(x(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(x(317));o[Vn]=e}else ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),o=!1}else Sn!==null&&(rd(Sn),Sn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Ze===0&&(Ze=3):Df())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return po(),Gh(t,e),t===null&&Fs(e.stateNode.containerInfo),wt(e),null;case 10:return pf(e.type._context),wt(e),null;case 17:return Wt(e.type)&&Ll(),wt(e),null;case 19:if(De(be),o=e.memoizedState,o===null)return wt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Go(o,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wl(t),s!==null){for(e.flags|=128,Go(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(be,be.current&1|2),e.child}t=t.sibling}o.tail!==null&&We()>go&&(e.flags|=128,r=!0,Go(o,!1),e.lanes=4194304)}else{if(!r)if(t=Wl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ne)return wt(e),null}else 2*We()-o.renderingStartTime>go&&n!==1073741824&&(e.flags|=128,r=!0,Go(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,n=be.current,Re(be,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return xf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function tI(t,e){switch(cf(e),e.tag){case 1:return Wt(e.type)&&Ll(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return po(),De(zt),De(kt),_f(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vf(e),null;case 13:if(De(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(be),null;case 4:return po(),null;case 10:return pf(e.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var tl=!1,It=!1,nI=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function Yh(t,e,n){try{n()}catch(r){$e(t,e,r)}}var Km=!1;function rI(t,e){if(Vh=Vl,t=$v(),lf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bh={focusedElem:t,selectionRange:n},Vl=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,_=p.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:wn(e.type,g),_);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(T){$e(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return p=Km,Km=!1,p}function _s(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Yh(e,n,o)}i=i.next}while(i!==r)}}function Cu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function L_(t){var e=t.alternate;e!==null&&(t.alternate=null,L_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[$s],delete e[Lh],delete e[US],delete e[$S])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F_(t){return t.tag===5||t.tag===3||t.tag===4}function Qm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ml));else if(r!==4&&(t=t.child,t!==null))for(Jh(t,e,n),t=t.sibling;t!==null;)Jh(t,e,n),t=t.sibling}function Zh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zh(t,e,n),t=t.sibling;t!==null;)Zh(t,e,n),t=t.sibling}var ct=null,En=!1;function fr(t,e,n){for(n=n.child;n!==null;)U_(t,e,n),n=n.sibling}function U_(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(wu,n)}catch{}switch(n.tag){case 5:It||Ki(n,e);case 6:var r=ct,i=En;ct=null,fr(t,e,n),ct=r,En=i,ct!==null&&(En?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(En?(t=ct,n=n.stateNode,t.nodeType===8?bc(t.parentNode,n):t.nodeType===1&&bc(t,n),Os(t)):bc(ct,n.stateNode));break;case 4:r=ct,i=En,ct=n.stateNode.containerInfo,En=!0,fr(t,e,n),ct=r,En=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Yh(n,e,s),i=i.next}while(i!==r)}fr(t,e,n);break;case 1:if(!It&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}fr(t,e,n);break;case 21:fr(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,fr(t,e,n),It=r):fr(t,e,n);break;default:fr(t,e,n)}}function Gm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nI),e.forEach(function(r){var i=dI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,En=!1;break e;case 3:ct=a.stateNode.containerInfo,En=!0;break e;case 4:ct=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(ct===null)throw Error(x(160));U_(o,s,i),ct=null,En=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$e(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$_(e,t),e=e.sibling}function $_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),Dn(t),r&4){try{_s(3,t,t.return),Cu(3,t)}catch(g){$e(t,t.return,g)}try{_s(5,t,t.return)}catch(g){$e(t,t.return,g)}}break;case 1:_n(e,t),Dn(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(_n(e,t),Dn(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var i=t.stateNode;try{Ds(i,"")}catch(g){$e(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&av(i,o),Sh(a,s);var u=Sh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?dv(i,d):c==="dangerouslySetInnerHTML"?cv(i,d):c==="children"?Ds(i,d):Qd(i,c,d,u)}switch(a){case"input":vh(i,o);break;case"textarea":lv(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Ji(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ji(i,!!o.multiple,o.defaultValue,!0):Ji(i,!!o.multiple,o.multiple?[]:"",!1))}i[$s]=o}catch(g){$e(t,t.return,g)}}break;case 6:if(_n(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){$e(t,t.return,g)}}break;case 3:if(_n(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Os(e.containerInfo)}catch(g){$e(t,t.return,g)}break;case 4:_n(e,t),Dn(t);break;case 13:_n(e,t),Dn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Cf=We())),r&4&&Gm(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(It=(u=It)||c,_n(e,t),It=u):_n(e,t),Dn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(d=L=c;L!==null;){switch(h=L,f=h.child,h.tag){case 0:case 11:case 14:case 15:_s(4,h,h.return);break;case 1:Ki(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){$e(r,n,g)}}break;case 5:Ki(h,h.return);break;case 22:if(h.memoizedState!==null){Xm(d);continue}}f!==null?(f.return=h,L=f):Xm(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hv("display",s))}catch(g){$e(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){$e(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_n(e,t),Dn(t),r&4&&Gm(t);break;case 21:break;default:_n(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(F_(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ds(i,""),r.flags&=-33);var o=Qm(t);Zh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Qm(t);Jh(t,a,s);break;default:throw Error(x(161))}}catch(l){$e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iI(t,e,n){L=t,j_(t)}function j_(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||tl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||It;a=tl;var u=It;if(tl=s,(It=l)&&!u)for(L=i;L!==null;)s=L,l=s.child,s.tag===22&&s.memoizedState!==null?Jm(i):l!==null?(l.return=s,L=l):Jm(i);for(;o!==null;)L=o,j_(o),o=o.sibling;L=i,tl=a,It=u}Ym(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,L=o):Ym(t)}}function Ym(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Cu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Vm(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vm(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Os(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}It||e.flags&512&&Xh(e)}catch(h){$e(e,e.return,h)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Xm(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Jm(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cu(4,e)}catch(l){$e(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$e(e,i,l)}}var o=e.return;try{Xh(e)}catch(l){$e(e,o,l)}break;case 5:var s=e.return;try{Xh(e)}catch(l){$e(e,s,l)}}}catch(l){$e(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var oI=Math.ceil,Kl=ar.ReactCurrentDispatcher,Rf=ar.ReactCurrentOwner,pn=ar.ReactCurrentBatchConfig,pe=0,it=null,Qe=null,pt=0,Xt=0,Qi=Ur(0),Ze=0,qs=null,pi=0,ku=0,Pf=0,ws=null,jt=null,Cf=0,go=1/0,qn=null,Ql=!1,ed=null,Pr=null,nl=!1,wr=null,Gl=0,Es=0,td=null,El=-1,Tl=0;function Mt(){return pe&6?We():El!==-1?El:El=We()}function Cr(t){return t.mode&1?pe&2&&pt!==0?pt&-pt:BS.transition!==null?(Tl===0&&(Tl=Iv()),Tl):(t=we,t!==0||(t=window.event,t=t===void 0?16:Dv(t.type)),t):1}function Rn(t,e,n,r){if(50<Es)throw Es=0,td=null,Error(x(185));pa(t,n,r),(!(pe&2)||t!==it)&&(t===it&&(!(pe&2)&&(ku|=n),Ze===4&&vr(t,pt)),Ht(t,r),n===1&&pe===0&&!(e.mode&1)&&(go=We()+500,Au&&$r()))}function Ht(t,e){var n=t.callbackNode;BT(t,e);var r=Nl(t,t===it?pt:0);if(r===0)n!==null&&am(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&am(n),e===1)t.tag===0?jS(Zm.bind(null,t)):Yv(Zm.bind(null,t)),LS(function(){!(pe&6)&&$r()}),n=null;else{switch(Av(r)){case 1:n=Zd;break;case 4:n=Tv;break;case 16:n=Dl;break;case 536870912:n=Sv;break;default:n=Dl}n=G_(n,B_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B_(t,e){if(El=-1,Tl=0,pe&6)throw Error(x(327));var n=t.callbackNode;if(ro()&&t.callbackNode!==n)return null;var r=Nl(t,t===it?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yl(t,r);else{e=r;var i=pe;pe|=2;var o=W_();(it!==t||pt!==e)&&(qn=null,go=We()+500,li(t,e));do try{lI();break}catch(a){z_(t,a)}while(!0);ff(),Kl.current=o,pe=i,Qe!==null?e=0:(it=null,pt=0,e=Ze)}if(e!==0){if(e===2&&(i=Ch(t),i!==0&&(r=i,e=nd(t,i))),e===1)throw n=qs,li(t,0),vr(t,r),Ht(t,We()),n;if(e===6)vr(t,r);else{if(i=t.current.alternate,!(r&30)&&!sI(i)&&(e=Yl(t,r),e===2&&(o=Ch(t),o!==0&&(r=o,e=nd(t,o))),e===1))throw n=qs,li(t,0),vr(t,r),Ht(t,We()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:Yr(t,jt,qn);break;case 3:if(vr(t,r),(r&130023424)===r&&(e=Cf+500-We(),10<e)){if(Nl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mh(Yr.bind(null,t,jt,qn),e);break}Yr(t,jt,qn);break;case 4:if(vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-An(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oI(r/1960))-r,10<r){t.timeoutHandle=Mh(Yr.bind(null,t,jt,qn),r);break}Yr(t,jt,qn);break;case 5:Yr(t,jt,qn);break;default:throw Error(x(329))}}}return Ht(t,We()),t.callbackNode===n?B_.bind(null,t):null}function nd(t,e){var n=ws;return t.current.memoizedState.isDehydrated&&(li(t,e).flags|=256),t=Yl(t,e),t!==2&&(e=jt,jt=n,e!==null&&rd(e)),t}function rd(t){jt===null?jt=t:jt.push.apply(jt,t)}function sI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Pn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vr(t,e){for(e&=~Pf,e&=~ku,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function Zm(t){if(pe&6)throw Error(x(327));ro();var e=Nl(t,0);if(!(e&1))return Ht(t,We()),null;var n=Yl(t,e);if(t.tag!==0&&n===2){var r=Ch(t);r!==0&&(e=r,n=nd(t,r))}if(n===1)throw n=qs,li(t,0),vr(t,e),Ht(t,We()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,jt,qn),Ht(t,We()),null}function kf(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(go=We()+500,Au&&$r())}}function mi(t){wr!==null&&wr.tag===0&&!(pe&6)&&ro();var e=pe;pe|=1;var n=pn.transition,r=we;try{if(pn.transition=null,we=1,t)return t()}finally{we=r,pn.transition=n,pe=e,!(pe&6)&&$r()}}function xf(){Xt=Qi.current,De(Qi)}function li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MS(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(cf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ll();break;case 3:po(),De(zt),De(kt),_f();break;case 5:vf(r);break;case 4:po();break;case 13:De(be);break;case 19:De(be);break;case 10:pf(r.type._context);break;case 22:case 23:xf()}n=n.return}if(it=t,Qe=t=kr(t.current,null),pt=Xt=e,Ze=0,qs=null,Pf=ku=pi=0,jt=ws=null,ei!==null){for(e=0;e<ei.length;e++)if(n=ei[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ei=null}return t}function z_(t,e){do{var n=Qe;try{if(ff(),vl.current=ql,Hl){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hl=!1}if(fi=0,rt=Xe=Oe=null,vs=!1,zs=0,Rf.current=null,n===null||n.return===null){Ze=1,qs=e,Qe=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=$m(s);if(f!==null){f.flags&=-257,jm(f,s,a,o,e),f.mode&1&&Um(o,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){Um(o,u,e),Df();break e}l=Error(x(426))}}else if(Ne&&a.mode&1){var _=$m(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),jm(_,s,a,o,e),hf(mo(l,a));break e}}o=l=mo(l,a),Ze!==4&&(Ze=2),ws===null?ws=[o]:ws.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=R_(o,l,e);Nm(o,y);break e;case 1:a=l;var m=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Pr===null||!Pr.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=P_(o,a,e);Nm(o,T);break e}}o=o.return}while(o!==null)}q_(n)}catch(C){e=C,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function W_(){var t=Kl.current;return Kl.current=ql,t===null?ql:t}function Df(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),it===null||!(pi&268435455)&&!(ku&268435455)||vr(it,pt)}function Yl(t,e){var n=pe;pe|=2;var r=W_();(it!==t||pt!==e)&&(qn=null,li(t,e));do try{aI();break}catch(i){z_(t,i)}while(!0);if(ff(),pe=n,Kl.current=r,Qe!==null)throw Error(x(261));return it=null,pt=0,Ze}function aI(){for(;Qe!==null;)H_(Qe)}function lI(){for(;Qe!==null&&!VT();)H_(Qe)}function H_(t){var e=Q_(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?q_(t):Qe=e,Rf.current=null}function q_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tI(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Qe=null;return}}else if(n=eI(n,e,Xt),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);Ze===0&&(Ze=5)}function Yr(t,e,n){var r=we,i=pn.transition;try{pn.transition=null,we=1,uI(t,e,n,r)}finally{pn.transition=i,we=r}return null}function uI(t,e,n,r){do ro();while(wr!==null);if(pe&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(zT(t,o),t===it&&(Qe=it=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nl||(nl=!0,G_(Dl,function(){return ro(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pn.transition,pn.transition=null;var s=we;we=1;var a=pe;pe|=4,Rf.current=null,rI(t,n),$_(n,t),kS(bh),Vl=!!Vh,bh=Vh=null,t.current=n,iI(n),bT(),pe=a,we=s,pn.transition=o}else t.current=n;if(nl&&(nl=!1,wr=t,Gl=i),o=t.pendingLanes,o===0&&(Pr=null),LT(n.stateNode),Ht(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,t=ed,ed=null,t;return Gl&1&&t.tag!==0&&ro(),o=t.pendingLanes,o&1?t===td?Es++:(Es=0,td=t):Es=0,$r(),null}function ro(){if(wr!==null){var t=Av(Gl),e=pn.transition,n=we;try{if(pn.transition=null,we=16>t?16:t,wr===null)var r=!1;else{if(t=wr,wr=null,Gl=0,pe&6)throw Error(x(331));var i=pe;for(pe|=4,L=t.current;L!==null;){var o=L,s=o.child;if(L.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:_s(8,c,o)}var d=c.child;if(d!==null)d.return=c,L=d;else for(;L!==null;){c=L;var h=c.sibling,f=c.return;if(L_(c),c===u){L=null;break}if(h!==null){h.return=f,L=h;break}L=f}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}L=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,L=s;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_s(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,L=y;break e}L=o.return}}var m=t.current;for(L=m;L!==null;){s=L;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,L=v;else e:for(s=m;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cu(9,a)}}catch(C){$e(a,a.return,C)}if(a===s){L=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,L=T;break e}L=a.return}}if(pe=i,$r(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(wu,t)}catch{}r=!0}return r}finally{we=n,pn.transition=e}}return!1}function eg(t,e,n){e=mo(n,e),e=R_(t,e,1),t=Rr(t,e,1),e=Mt(),t!==null&&(pa(t,1,e),Ht(t,e))}function $e(t,e,n){if(t.tag===3)eg(t,t,n);else for(;e!==null;){if(e.tag===3){eg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pr===null||!Pr.has(r))){t=mo(n,t),t=P_(e,t,1),e=Rr(e,t,1),t=Mt(),e!==null&&(pa(e,1,t),Ht(e,t));break}}e=e.return}}function cI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(pt&n)===n&&(Ze===4||Ze===3&&(pt&130023424)===pt&&500>We()-Cf?li(t,0):Pf|=n),Ht(t,e)}function K_(t,e){e===0&&(t.mode&1?(e=qa,qa<<=1,!(qa&130023424)&&(qa=4194304)):e=1);var n=Mt();t=rr(t,e),t!==null&&(pa(t,e,n),Ht(t,n))}function hI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K_(t,n)}function dI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),K_(t,n)}var Q_;Q_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,ZS(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Ne&&e.flags&1048576&&Xv(e,$l,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wl(t,e),t=e.pendingProps;var i=co(e,kt.current);no(e,n),i=Ef(null,e,r,t,i,n);var o=Tf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(o=!0,Fl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gf(e),i.updater=Ru,e.stateNode=i,i._reactInternals=e,zh(e,r,t,n),e=qh(null,e,r,!0,o,n)):(e.tag=0,Ne&&o&&uf(e),bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pI(r),t=wn(r,t),i){case 0:e=Hh(null,e,r,t,n);break e;case 1:e=Wm(null,e,r,t,n);break e;case 11:e=Bm(null,e,r,t,n);break e;case 14:e=zm(null,e,r,wn(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Hh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Wm(t,e,r,i,n);case 3:e:{if(D_(e),t===null)throw Error(x(387));r=e.pendingProps,o=e.memoizedState,i=o.element,t_(t,e),zl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=mo(Error(x(423)),e),e=Hm(t,e,r,n,i);break e}else if(r!==i){i=mo(Error(x(424)),e),e=Hm(t,e,r,n,i);break e}else for(Jt=Ar(e.stateNode.containerInfo.firstChild),Zt=e,Ne=!0,Sn=null,n=o_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ho(),r===i){e=ir(t,e,n);break e}bt(t,e,r,n)}e=e.child}return e;case 5:return s_(e),t===null&&$h(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Oh(r,i)?s=null:o!==null&&Oh(r,o)&&(e.flags|=32),x_(t,e),bt(t,e,s,n),e.child;case 6:return t===null&&$h(e),null;case 13:return N_(t,e,n);case 4:return yf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fo(e,null,r,n):bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Bm(t,e,r,i,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Re(jl,r._currentValue),r._currentValue=s,o!==null)if(Pn(o.value,s)){if(o.children===i.children&&!zt.current){e=ir(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Xn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),jh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(x(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),jh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,no(e,n),i=gn(i),r=r(i),e.flags|=1,bt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),zm(t,e,r,i,n);case 15:return C_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),wl(t,e),e.tag=1,Wt(r)?(t=!0,Fl(e)):t=!1,no(e,n),r_(e,r,i),zh(e,r,i,n),qh(null,e,r,!0,t,n);case 19:return V_(t,e,n);case 22:return k_(t,e,n)}throw Error(x(156,e.tag))};function G_(t,e){return Ev(t,e)}function fI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,r){return new fI(t,e,n,r)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pI(t){if(typeof t=="function")return Nf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yd)return 11;if(t===Xd)return 14}return 2}function kr(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Nf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Fi:return ui(n.children,i,o,e);case Gd:s=8,i|=8;break;case fh:return t=fn(12,n,e,i|2),t.elementType=fh,t.lanes=o,t;case ph:return t=fn(13,n,e,i),t.elementType=ph,t.lanes=o,t;case mh:return t=fn(19,n,e,i),t.elementType=mh,t.lanes=o,t;case iv:return xu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nv:s=10;break e;case rv:s=9;break e;case Yd:s=11;break e;case Xd:s=14;break e;case mr:s=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=fn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ui(t,e,n,r){return t=fn(7,t,r,e),t.lanes=n,t}function xu(t,e,n,r){return t=fn(22,t,r,e),t.elementType=iv,t.lanes=n,t.stateNode={isHidden:!1},t}function Bc(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function zc(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sc(0),this.expirationTimes=Sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vf(t,e,n,r,i,o,s,a,l){return t=new mI(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=fn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gf(o),t}function gI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Y_(t){if(!t)return br;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(Wt(n))return Gv(t,n,e)}return e}function X_(t,e,n,r,i,o,s,a,l){return t=Vf(n,r,!0,t,i,o,s,a,l),t.context=Y_(null),n=t.current,r=Mt(),i=Cr(n),o=Xn(r,i),o.callback=e??null,Rr(n,o,i),t.current.lanes=i,pa(t,i,r),Ht(t,r),t}function Du(t,e,n,r){var i=e.current,o=Mt(),s=Cr(i);return n=Y_(n),e.context===null?e.context=n:e.pendingContext=n,e=Xn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rr(i,e,s),t!==null&&(Rn(t,i,s,o),yl(t,i,s)),s}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bf(t,e){tg(t,e),(t=t.alternate)&&tg(t,e)}function yI(){return null}var J_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Of(t){this._internalRoot=t}Nu.prototype.render=Of.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));Du(t,e,null,null)};Nu.prototype.unmount=Of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mi(function(){Du(null,t,null,null)}),e[nr]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yr.length&&e!==0&&e<yr[n].priority;n++);yr.splice(n,0,t),n===0&&xv(t)}};function Mf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ng(){}function vI(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Xl(s);o.call(u)}}var s=X_(e,r,t,0,null,!1,!1,"",ng);return t._reactRootContainer=s,t[nr]=s.current,Fs(t.nodeType===8?t.parentNode:t),mi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xl(l);a.call(u)}}var l=Vf(t,0,!1,null,null,!1,!1,"",ng);return t._reactRootContainer=l,t[nr]=l.current,Fs(t.nodeType===8?t.parentNode:t),mi(function(){Du(e,l,n,r)}),l}function bu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Xl(s);a.call(l)}}Du(e,s,t,i)}else s=vI(n,e,t,i,r);return Xl(s)}Rv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=as(e.pendingLanes);n!==0&&(ef(e,n|1),Ht(e,We()),!(pe&6)&&(go=We()+500,$r()))}break;case 13:mi(function(){var r=rr(t,1);if(r!==null){var i=Mt();Rn(r,t,1,i)}}),bf(t,1)}};tf=function(t){if(t.tag===13){var e=rr(t,134217728);if(e!==null){var n=Mt();Rn(e,t,134217728,n)}bf(t,134217728)}};Pv=function(t){if(t.tag===13){var e=Cr(t),n=rr(t,e);if(n!==null){var r=Mt();Rn(n,t,e,r)}bf(t,e)}};Cv=function(){return we};kv=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Ah=function(t,e,n){switch(e){case"input":if(vh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Iu(r);if(!i)throw Error(x(90));sv(r),vh(r,i)}}}break;case"textarea":lv(t,n);break;case"select":e=n.value,e!=null&&Ji(t,!!n.multiple,e,!1)}};mv=kf;gv=mi;var _I={usingClientEntryPoint:!1,Events:[ga,Bi,Iu,fv,pv,kf]},Yo={findFiberByHostInstance:Zr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wI={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_v(t),t===null?null:t.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||yI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{wu=rl.inject(wI),Fn=rl}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_I;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mf(e))throw Error(x(200));return gI(t,e,null,n)};nn.createRoot=function(t,e){if(!Mf(t))throw Error(x(299));var n=!1,r="",i=J_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vf(t,1,!1,null,null,n,!1,r,i),t[nr]=e.current,Fs(t.nodeType===8?t.parentNode:t),new Of(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=_v(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return mi(t)};nn.hydrate=function(t,e,n){if(!Vu(e))throw Error(x(200));return bu(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!Mf(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=J_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=X_(e,null,t,1,n??null,i,!1,o,s),t[nr]=e.current,Fs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nu(e)};nn.render=function(t,e,n){if(!Vu(e))throw Error(x(200));return bu(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!Vu(t))throw Error(x(40));return t._reactRootContainer?(mi(function(){bu(null,null,t,!1,function(){t._reactRootContainer=null,t[nr]=null})}),!0):!1};nn.unstable_batchedUpdates=kf;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vu(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return bu(t,e,n,!1,r)};nn.version="18.2.0-next-9e3b772b8-20220608";function Z_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z_)}catch(t){console.error(t)}}Z_(),Xy.exports=nn;var Lf=Xy.exports;const EI=Uy(Lf),TI=Fy({__proto__:null,default:EI},[Lf]);var rg=Lf;hh.createRoot=rg.createRoot,hh.hydrateRoot=rg.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function je(){return je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},je.apply(this,arguments)}var ze;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ze||(ze={}));const ig="popstate";function SI(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Ks("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gi(i)}return AI(e,n,null,t)}function oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function II(){return Math.random().toString(36).substr(2,8)}function og(t,e){return{usr:t.state,key:t.key,idx:e}}function Ks(t,e,n,r){return n===void 0&&(n=null),je({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lr(e):e,{state:n,key:e&&e.key||r||II()})}function gi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function AI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ze.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(je({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=ze.Pop;let _=c(),y=_==null?null:_-u;u=_,l&&l({action:a,location:g.location,delta:y})}function h(_,y){a=ze.Push;let m=Ks(g.location,_,y);n&&n(m,_),u=c()+1;let v=og(m,u),T=g.createHref(m);try{s.pushState(v,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}o&&l&&l({action:a,location:g.location,delta:1})}function f(_,y){a=ze.Replace;let m=Ks(g.location,_,y);n&&n(m,_),u=c();let v=og(m,u),T=g.createHref(m);s.replaceState(v,"",T),o&&l&&l({action:a,location:g.location,delta:0})}function p(_){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof _=="string"?_:gi(_);return m=m.replace(/ $/,"%20"),oe(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ig,d),l=_,()=>{i.removeEventListener(ig,d),l=null}},createHref(_){return e(i,_)},createURL:p,encodeLocation(_){let y=p(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(_){return s.go(_)}};return g}var Ue;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ue||(Ue={}));const RI=new Set(["lazy","caseSensitive","path","id","index","children"]);function PI(t){return t.index===!0}function id(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(oe(i.index!==!0||!i.children,"Cannot specify children on an index route"),oe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),PI(i)){let l=je({},i,e(i),{id:a});return r[a]=l,l}else{let l=je({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=id(i.children,e,s,r)),l}})}function Gi(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?lr(e):e,i=xo(r.pathname||"/",n);if(i==null)return null;let o=e0(t);kI(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=jI(i);s=FI(o[a],l)}return s}function CI(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function e0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(oe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Jn([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(oe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),e0(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:MI(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of t0(o.path))i(o,s,l)}),e}function t0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=t0(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function kI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xI=/^:[\w-]+$/,DI=3,NI=2,VI=1,bI=10,OI=-2,sg=t=>t==="*";function MI(t,e){let n=t.split("/"),r=n.length;return n.some(sg)&&(r+=OI),e&&(r+=NI),n.filter(i=>!sg(i)).reduce((i,o)=>i+(xI.test(o)?DI:o===""?VI:bI),r)}function LI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FI(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=UI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:Jn([i,c.pathname]),pathnameBase:WI(Jn([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Jn([i,c.pathnameBase]))}return o}function UI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$I(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let g=a[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function $I(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?lr(t):t;return{pathname:n?n.startsWith("/")?n:zI(n,e):e,search:HI(r),hash:qI(i)}}function zI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ff(t,e){let n=n0(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=lr(t):(i=je({},t),oe(!i.pathname||!i.pathname.includes("?"),Wc("?","pathname","search",i)),oe(!i.pathname||!i.pathname.includes("#"),Wc("#","pathname","hash",i)),oe(!i.search||!i.search.includes("#"),Wc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=BI(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Jn=t=>t.join("/").replace(/\/\/+/g,"/"),WI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class $f{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function r0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i0=["post","put","patch","delete"],KI=new Set(i0),QI=["get",...i0],GI=new Set(QI),YI=new Set([301,302,303,307,308]),XI=new Set([307,308]),Hc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},JI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},o0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZI=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),s0="remix-router-transitions";function eA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;oe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let E=t.detectErrorBoundary;i=S=>({hasErrorBoundary:E(S)})}else i=ZI;let o={},s=id(t.routes,i,void 0,o),a,l=t.basename||"/",u=je({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,d=new Set,h=null,f=null,p=null,g=t.hydrationData!=null,_=Gi(s,t.history.location,l),y=null;if(_==null){let E=ln(404,{pathname:t.history.location.pathname}),{matches:S,route:I}=pg(s);_=S,y={[I.id]:E}}let m,v=_.some(E=>E.route.lazy),T=_.some(E=>E.route.loader);if(v)m=!1;else if(!T)m=!0;else if(u.v7_partialHydration){let E=t.hydrationData?t.hydrationData.loaderData:null,S=t.hydrationData?t.hydrationData.errors:null,I=N=>N.route.loader?N.route.loader.hydrate===!0?!1:E&&E[N.route.id]!==void 0||S&&S[N.route.id]!==void 0:!0;if(S){let N=_.findIndex($=>S[$.route.id]!==void 0);m=_.slice(0,N+1).every(I)}else m=_.every(I)}else m=t.hydrationData!=null;let C,w={historyAction:t.history.action,location:t.history.location,matches:_,initialized:m,navigation:Hc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},A=ze.Pop,D=!1,U,j=!1,le=new Map,Fe=null,Te=!1,at=!1,cr=[],Kt=[],_e=new Map,M=0,H=-1,q=new Map,ce=new Set,ve=new Map,Nt=new Map,He=new Set,vt=new Map,Ye=new Map,sn=!1;function Oa(){if(c=t.history.listen(E=>{let{action:S,location:I,delta:N}=E;if(sn){sn=!1;return}yo(Ye.size===0||N!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $=qp({currentLocation:w.location,nextLocation:I,historyAction:S});if($&&N!=null){sn=!0,t.history.go(N*-1),Kr($,{state:"blocked",location:I,proceed(){Kr($,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),t.history.go(N)},reset(){let ie=new Map(w.blockers);ie.set($,Xo),Vt({blockers:ie})}});return}return Hn(S,I)}),n){hA(e,le);let E=()=>dA(e,le);e.addEventListener("pagehide",E),Fe=()=>e.removeEventListener("pagehide",E)}return w.initialized||Hn(ze.Pop,w.location,{initialHydration:!0}),C}function Ma(){c&&c(),Fe&&Fe(),d.clear(),U&&U.abort(),w.fetchers.forEach((E,S)=>G(S)),w.blockers.forEach((E,S)=>Pi(S))}function La(E){return d.add(E),()=>d.delete(E)}function Vt(E,S){S===void 0&&(S={}),w=je({},w,E);let I=[],N=[];u.v7_fetcherPersist&&w.fetchers.forEach(($,ie)=>{$.state==="idle"&&(He.has(ie)?N.push(ie):I.push(ie))}),[...d].forEach($=>$(w,{deletedFetchers:N,unstable_viewTransitionOpts:S.viewTransitionOpts,unstable_flushSync:S.flushSync===!0})),u.v7_fetcherPersist&&(I.forEach($=>w.fetchers.delete($)),N.forEach($=>G($)))}function kn(E,S,I){var N,$;let{flushSync:ie}=I===void 0?{}:I,Y=w.actionData!=null&&w.navigation.formMethod!=null&&Tn(w.navigation.formMethod)&&w.navigation.state==="loading"&&((N=E.state)==null?void 0:N._isRedirect)!==!0,K;S.actionData?Object.keys(S.actionData).length>0?K=S.actionData:K=null:Y?K=w.actionData:K=null;let z=S.loaderData?fg(w.loaderData,S.loaderData,S.matches||[],S.errors):w.loaderData,ue=w.blockers;ue.size>0&&(ue=new Map(ue),ue.forEach((Ae,ut)=>ue.set(ut,Xo)));let et=D===!0||w.navigation.formMethod!=null&&Tn(w.navigation.formMethod)&&(($=E.state)==null?void 0:$._isRedirect)!==!0;a&&(s=a,a=void 0),Te||A===ze.Pop||(A===ze.Push?t.history.push(E,E.state):A===ze.Replace&&t.history.replace(E,E.state));let re;if(A===ze.Pop){let Ae=le.get(w.location.pathname);Ae&&Ae.has(E.pathname)?re={currentLocation:w.location,nextLocation:E}:le.has(E.pathname)&&(re={currentLocation:E,nextLocation:w.location})}else if(j){let Ae=le.get(w.location.pathname);Ae?Ae.add(E.pathname):(Ae=new Set([E.pathname]),le.set(w.location.pathname,Ae)),re={currentLocation:w.location,nextLocation:E}}Vt(je({},S,{actionData:K,loaderData:z,historyAction:A,location:E,initialized:!0,navigation:Hc,revalidation:"idle",restoreScrollPosition:Qp(E,S.matches||w.matches),preventScrollReset:et,blockers:ue}),{viewTransitionOpts:re,flushSync:ie===!0}),A=ze.Pop,D=!1,j=!1,Te=!1,at=!1,cr=[],Kt=[]}async function Uo(E,S){if(typeof E=="number"){t.history.go(E);return}let I=od(w.location,w.matches,l,u.v7_prependBasename,E,u.v7_relativeSplatPath,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:N,submission:$,error:ie}=ag(u.v7_normalizeFormMethod,!1,I,S),Y=w.location,K=Ks(w.location,N,S&&S.state);K=je({},K,t.history.encodeLocation(K));let z=S&&S.replace!=null?S.replace:void 0,ue=ze.Push;z===!0?ue=ze.Replace:z===!1||$!=null&&Tn($.formMethod)&&$.formAction===w.location.pathname+w.location.search&&(ue=ze.Replace);let et=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,re=(S&&S.unstable_flushSync)===!0,Ae=qp({currentLocation:Y,nextLocation:K,historyAction:ue});if(Ae){Kr(Ae,{state:"blocked",location:K,proceed(){Kr(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Uo(E,S)},reset(){let ut=new Map(w.blockers);ut.set(Ae,Xo),Vt({blockers:ut})}});return}return await Hn(ue,K,{submission:$,pendingError:ie,preventScrollReset:et,replace:S&&S.replace,enableViewTransition:S&&S.unstable_viewTransition,flushSync:re})}function Hr(){if(xn(),Vt({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Hn(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Hn(A||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function Hn(E,S,I){U&&U.abort(),U=null,A=E,Te=(I&&I.startUninterruptedRevalidation)===!0,q1(w.location,w.matches),D=(I&&I.preventScrollReset)===!0,j=(I&&I.enableViewTransition)===!0;let N=a||s,$=I&&I.overrideNavigation,ie=Gi(N,S,l),Y=(I&&I.flushSync)===!0;if(!ie){let ut=ln(404,{pathname:S.pathname}),{matches:Yt,route:tt}=pg(N);pc(),kn(S,{matches:Yt,loaderData:{},errors:{[tt.id]:ut}},{flushSync:Y});return}if(w.initialized&&!at&&oA(w.location,S)&&!(I&&I.submission&&Tn(I.submission.formMethod))){kn(S,{matches:ie},{flushSync:Y});return}U=new AbortController;let K=Zo(t.history,S,U.signal,I&&I.submission),z,ue;if(I&&I.pendingError)ue={[Ts(ie).route.id]:I.pendingError};else if(I&&I.submission&&Tn(I.submission.formMethod)){let ut=await $o(K,S,I.submission,ie,{replace:I.replace,flushSync:Y});if(ut.shortCircuited)return;z=ut.pendingActionData,ue=ut.pendingActionError,$=qc(S,I.submission),Y=!1,K=new Request(K.url,{signal:K.signal})}let{shortCircuited:et,loaderData:re,errors:Ae}=await qr(K,S,ie,$,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,Y,z,ue);et||(U=null,kn(S,je({matches:ie},z?{actionData:z}:{},{loaderData:re,errors:Ae})))}async function $o(E,S,I,N,$){$===void 0&&($={}),xn();let ie=uA(S,I);Vt({navigation:ie},{flushSync:$.flushSync===!0});let Y,K=ad(N,S);if(!K.route.action&&!K.route.lazy)Y={type:Ue.error,error:ln(405,{method:E.method,pathname:S.pathname,routeId:K.route.id})};else if(Y=await Jo("action",E,K,N,o,i,l,u.v7_relativeSplatPath),E.signal.aborted)return{shortCircuited:!0};if(ri(Y)){let z;return $&&$.replace!=null?z=$.replace:z=Y.location===w.location.pathname+w.location.search,await hr(w,Y,{submission:I,replace:z}),{shortCircuited:!0}}if(Yi(Y)){let z=Ts(N,K.route.id);return($&&$.replace)!==!0&&(A=ze.Push),{pendingActionData:{},pendingActionError:{[z.route.id]:Y.error}}}if(ni(Y))throw ln(400,{type:"defer-action"});return{pendingActionData:{[K.route.id]:Y.data}}}async function qr(E,S,I,N,$,ie,Y,K,z,ue,et){let re=N||qc(S,$),Ae=$||ie||yg(re),ut=a||s,[Yt,tt]=lg(t.history,w,I,Ae,S,u.v7_partialHydration&&K===!0,at,cr,Kt,He,ve,ce,ut,l,ue,et);if(pc(ge=>!(I&&I.some(Ie=>Ie.route.id===ge))||Yt&&Yt.some(Ie=>Ie.route.id===ge)),H=++M,Yt.length===0&&tt.length===0){let ge=de();return kn(S,je({matches:I,loaderData:{},errors:et||null},ue?{actionData:ue}:{},ge?{fetchers:new Map(w.fetchers)}:{}),{flushSync:z}),{shortCircuited:!0}}if(!Te&&(!u.v7_partialHydration||!K)){tt.forEach(Ie=>{let $t=w.fetchers.get(Ie.key),$a=es(void 0,$t?$t.data:void 0);w.fetchers.set(Ie.key,$a)});let ge=ue||w.actionData;Vt(je({navigation:re},ge?Object.keys(ge).length===0?{actionData:null}:{actionData:ge}:{},tt.length>0?{fetchers:new Map(w.fetchers)}:{}),{flushSync:z})}tt.forEach(ge=>{_e.has(ge.key)&&lt(ge.key),ge.controller&&_e.set(ge.key,ge.controller)});let Ci=()=>tt.forEach(ge=>lt(ge.key));U&&U.signal.addEventListener("abort",Ci);let{results:mc,loaderResults:ki,fetcherResults:dr}=await Ut(w.matches,I,Yt,tt,E);if(E.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",Ci),tt.forEach(ge=>_e.delete(ge.key));let Qr=mg(mc);if(Qr){if(Qr.idx>=Yt.length){let ge=tt[Qr.idx-Yt.length].key;ce.add(ge)}return await hr(w,Qr.result,{replace:Y}),{shortCircuited:!0}}let{loaderData:gc,errors:Bo}=dg(w,I,Yt,ki,et,tt,dr,vt);vt.forEach((ge,Ie)=>{ge.subscribe($t=>{($t||ge.done)&&vt.delete(Ie)})}),u.v7_partialHydration&&K&&w.errors&&Object.entries(w.errors).filter(ge=>{let[Ie]=ge;return!Yt.some($t=>$t.route.id===Ie)}).forEach(ge=>{let[Ie,$t]=ge;Bo=Object.assign(Bo||{},{[Ie]:$t})});let yc=de(),xi=Q(H),Ua=yc||xi||tt.length>0;return je({loaderData:gc,errors:Bo},Ua?{fetchers:new Map(w.fetchers)}:{})}function jo(E,S,I,N){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");_e.has(E)&&lt(E);let $=(N&&N.unstable_flushSync)===!0,ie=a||s,Y=od(w.location,w.matches,l,u.v7_prependBasename,I,u.v7_relativeSplatPath,S,N==null?void 0:N.relative),K=Gi(ie,Y,l);if(!K){ne(E,S,ln(404,{pathname:Y}),{flushSync:$});return}let{path:z,submission:ue,error:et}=ag(u.v7_normalizeFormMethod,!0,Y,N);if(et){ne(E,S,et,{flushSync:$});return}let re=ad(K,z);if(D=(N&&N.preventScrollReset)===!0,ue&&Tn(ue.formMethod)){fc(E,S,z,re,K,$,ue);return}ve.set(E,{routeId:S,path:z}),Fa(E,S,z,re,K,$,ue)}async function fc(E,S,I,N,$,ie,Y){if(xn(),ve.delete(E),!N.route.action&&!N.route.lazy){let Ie=ln(405,{method:Y.formMethod,pathname:I,routeId:S});ne(E,S,Ie,{flushSync:ie});return}let K=w.fetchers.get(E);Qt(E,cA(Y,K),{flushSync:ie});let z=new AbortController,ue=Zo(t.history,I,z.signal,Y);_e.set(E,z);let et=M,re=await Jo("action",ue,N,$,o,i,l,u.v7_relativeSplatPath);if(ue.signal.aborted){_e.get(E)===z&&_e.delete(E);return}if(u.v7_fetcherPersist&&He.has(E)){if(ri(re)||Yi(re)){Qt(E,pr(void 0));return}}else{if(ri(re))if(_e.delete(E),H>et){Qt(E,pr(void 0));return}else return ce.add(E),Qt(E,es(Y)),hr(w,re,{fetcherSubmission:Y});if(Yi(re)){ne(E,S,re.error);return}}if(ni(re))throw ln(400,{type:"defer-action"});let Ae=w.navigation.location||w.location,ut=Zo(t.history,Ae,z.signal),Yt=a||s,tt=w.navigation.state!=="idle"?Gi(Yt,w.navigation.location,l):w.matches;oe(tt,"Didn't find any matches after fetcher action");let Ci=++M;q.set(E,Ci);let mc=es(Y,re.data);w.fetchers.set(E,mc);let[ki,dr]=lg(t.history,w,tt,Y,Ae,!1,at,cr,Kt,He,ve,ce,Yt,l,{[N.route.id]:re.data},void 0);dr.filter(Ie=>Ie.key!==E).forEach(Ie=>{let $t=Ie.key,$a=w.fetchers.get($t),Q1=es(void 0,$a?$a.data:void 0);w.fetchers.set($t,Q1),_e.has($t)&&lt($t),Ie.controller&&_e.set($t,Ie.controller)}),Vt({fetchers:new Map(w.fetchers)});let Qr=()=>dr.forEach(Ie=>lt(Ie.key));z.signal.addEventListener("abort",Qr);let{results:gc,loaderResults:Bo,fetcherResults:yc}=await Ut(w.matches,tt,ki,dr,ut);if(z.signal.aborted)return;z.signal.removeEventListener("abort",Qr),q.delete(E),_e.delete(E),dr.forEach(Ie=>_e.delete(Ie.key));let xi=mg(gc);if(xi){if(xi.idx>=ki.length){let Ie=dr[xi.idx-ki.length].key;ce.add(Ie)}return hr(w,xi.result)}let{loaderData:Ua,errors:ge}=dg(w,w.matches,ki,Bo,void 0,dr,yc,vt);if(w.fetchers.has(E)){let Ie=pr(re.data);w.fetchers.set(E,Ie)}Q(Ci),w.navigation.state==="loading"&&Ci>H?(oe(A,"Expected pending action"),U&&U.abort(),kn(w.navigation.location,{matches:tt,loaderData:Ua,errors:ge,fetchers:new Map(w.fetchers)})):(Vt({errors:ge,loaderData:fg(w.loaderData,Ua,tt,ge),fetchers:new Map(w.fetchers)}),at=!1)}async function Fa(E,S,I,N,$,ie,Y){let K=w.fetchers.get(E);Qt(E,es(Y,K?K.data:void 0),{flushSync:ie});let z=new AbortController,ue=Zo(t.history,I,z.signal);_e.set(E,z);let et=M,re=await Jo("loader",ue,N,$,o,i,l,u.v7_relativeSplatPath);if(ni(re)&&(re=await u0(re,ue.signal,!0)||re),_e.get(E)===z&&_e.delete(E),!ue.signal.aborted){if(He.has(E)){Qt(E,pr(void 0));return}if(ri(re))if(H>et){Qt(E,pr(void 0));return}else{ce.add(E),await hr(w,re);return}if(Yi(re)){ne(E,S,re.error);return}oe(!ni(re),"Unhandled fetcher deferred data"),Qt(E,pr(re.data))}}async function hr(E,S,I){let{submission:N,fetcherSubmission:$,replace:ie}=I===void 0?{}:I;S.revalidate&&(at=!0);let Y=Ks(E.location,S.location,{_isRedirect:!0});if(oe(Y,"Expected a location on the redirect navigation"),n){let Ae=!1;if(S.reloadDocument)Ae=!0;else if(o0.test(S.location)){const ut=t.history.createURL(S.location);Ae=ut.origin!==e.location.origin||xo(ut.pathname,l)==null}if(Ae){ie?e.location.replace(S.location):e.location.assign(S.location);return}}U=null;let K=ie===!0?ze.Replace:ze.Push,{formMethod:z,formAction:ue,formEncType:et}=E.navigation;!N&&!$&&z&&ue&&et&&(N=yg(E.navigation));let re=N||$;if(XI.has(S.status)&&re&&Tn(re.formMethod))await Hn(K,Y,{submission:je({},re,{formAction:S.location}),preventScrollReset:D});else{let Ae=qc(Y,N);await Hn(K,Y,{overrideNavigation:Ae,fetcherSubmission:$,preventScrollReset:D})}}async function Ut(E,S,I,N,$){let ie=await Promise.all([...I.map(z=>Jo("loader",$,z,S,o,i,l,u.v7_relativeSplatPath)),...N.map(z=>z.matches&&z.match&&z.controller?Jo("loader",Zo(t.history,z.path,z.controller.signal),z.match,z.matches,o,i,l,u.v7_relativeSplatPath):{type:Ue.error,error:ln(404,{pathname:z.path})})]),Y=ie.slice(0,I.length),K=ie.slice(I.length);return await Promise.all([gg(E,I,Y,Y.map(()=>$.signal),!1,w.loaderData),gg(E,N.map(z=>z.match),K,N.map(z=>z.controller?z.controller.signal:null),!0)]),{results:ie,loaderResults:Y,fetcherResults:K}}function xn(){at=!0,cr.push(...pc()),ve.forEach((E,S)=>{_e.has(S)&&(Kt.push(S),lt(S))})}function Qt(E,S,I){I===void 0&&(I={}),w.fetchers.set(E,S),Vt({fetchers:new Map(w.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function ne(E,S,I,N){N===void 0&&(N={});let $=Ts(w.matches,S);G(E),Vt({errors:{[$.route.id]:I},fetchers:new Map(w.fetchers)},{flushSync:(N&&N.flushSync)===!0})}function me(E){return u.v7_fetcherPersist&&(Nt.set(E,(Nt.get(E)||0)+1),He.has(E)&&He.delete(E)),w.fetchers.get(E)||JI}function G(E){let S=w.fetchers.get(E);_e.has(E)&&!(S&&S.state==="loading"&&q.has(E))&&lt(E),ve.delete(E),q.delete(E),ce.delete(E),He.delete(E),w.fetchers.delete(E)}function Se(E){if(u.v7_fetcherPersist){let S=(Nt.get(E)||0)-1;S<=0?(Nt.delete(E),He.add(E)):Nt.set(E,S)}else G(E);Vt({fetchers:new Map(w.fetchers)})}function lt(E){let S=_e.get(E);oe(S,"Expected fetch controller: "+E),S.abort(),_e.delete(E)}function Gt(E){for(let S of E){let I=me(S),N=pr(I.data);w.fetchers.set(S,N)}}function de(){let E=[],S=!1;for(let I of ce){let N=w.fetchers.get(I);oe(N,"Expected fetcher: "+I),N.state==="loading"&&(ce.delete(I),E.push(I),S=!0)}return Gt(E),S}function Q(E){let S=[];for(let[I,N]of q)if(N<E){let $=w.fetchers.get(I);oe($,"Expected fetcher: "+I),$.state==="loading"&&(lt(I),q.delete(I),S.push(I))}return Gt(S),S.length>0}function an(E,S){let I=w.blockers.get(E)||Xo;return Ye.get(E)!==S&&Ye.set(E,S),I}function Pi(E){w.blockers.delete(E),Ye.delete(E)}function Kr(E,S){let I=w.blockers.get(E)||Xo;oe(I.state==="unblocked"&&S.state==="blocked"||I.state==="blocked"&&S.state==="blocked"||I.state==="blocked"&&S.state==="proceeding"||I.state==="blocked"&&S.state==="unblocked"||I.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+S.state);let N=new Map(w.blockers);N.set(E,S),Vt({blockers:N})}function qp(E){let{currentLocation:S,nextLocation:I,historyAction:N}=E;if(Ye.size===0)return;Ye.size>1&&yo(!1,"A router only supports one blocker at a time");let $=Array.from(Ye.entries()),[ie,Y]=$[$.length-1],K=w.blockers.get(ie);if(!(K&&K.state==="proceeding")&&Y({currentLocation:S,nextLocation:I,historyAction:N}))return ie}function pc(E){let S=[];return vt.forEach((I,N)=>{(!E||E(N))&&(I.cancel(),S.push(N),vt.delete(N))}),S}function H1(E,S,I){if(h=E,p=S,f=I||null,!g&&w.navigation===Hc){g=!0;let N=Qp(w.location,w.matches);N!=null&&Vt({restoreScrollPosition:N})}return()=>{h=null,p=null,f=null}}function Kp(E,S){return f&&f(E,S.map(N=>CI(N,w.loaderData)))||E.key}function q1(E,S){if(h&&p){let I=Kp(E,S);h[I]=p()}}function Qp(E,S){if(h){let I=Kp(E,S),N=h[I];if(typeof N=="number")return N}return null}function K1(E){o={},a=id(E,i,void 0,o)}return C={get basename(){return l},get future(){return u},get state(){return w},get routes(){return s},get window(){return e},initialize:Oa,subscribe:La,enableScrollRestoration:H1,navigate:Uo,fetch:jo,revalidate:Hr,createHref:E=>t.history.createHref(E),encodeLocation:E=>t.history.encodeLocation(E),getFetcher:me,deleteFetcher:Se,dispose:Ma,getBlocker:an,deleteBlocker:Pi,_internalFetchControllers:_e,_internalActiveDeferreds:vt,_internalSetRoutes:K1},C}function tA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function od(t,e,n,r,i,o,s,a){let l,u;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){u=d;break}}else l=e,u=e[e.length-1];let c=Uf(i||".",Ff(l,o),xo(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!jf(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Jn([n,c.pathname])),gi(c)}function ag(t,e,n,r){if(!r||!tA(r))return{path:n};if(r.formMethod&&!lA(r.formMethod))return{path:n,error:ln(405,{method:r.formMethod})};let i=()=>({path:n,error:ln(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=l0(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Tn(s))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,p)=>{let[g,_]=p;return""+f+g+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Tn(s))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}oe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=sd(r.formData),u=r.formData;else if(r.body instanceof FormData)l=sd(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=hg(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=hg(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Tn(c.formMethod))return{path:n,submission:c};let d=lr(n);return e&&d.search&&jf(d.search)&&l.append("index",""),d.search="?"+l,{path:gi(d),submission:c}}function nA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function lg(t,e,n,r,i,o,s,a,l,u,c,d,h,f,p,g){let _=g?Object.values(g)[0]:p?Object.values(p)[0]:void 0,y=t.createURL(e.location),m=t.createURL(i),v=g?Object.keys(g)[0]:void 0,C=nA(n,v).filter((A,D)=>{let{route:U}=A;if(U.lazy)return!0;if(U.loader==null)return!1;if(o)return U.loader.hydrate?!0:e.loaderData[U.id]===void 0&&(!e.errors||e.errors[U.id]===void 0);if(rA(e.loaderData,e.matches[D],A)||a.some(Fe=>Fe===A.route.id))return!0;let j=e.matches[D],le=A;return ug(A,je({currentUrl:y,currentParams:j.params,nextUrl:m,nextParams:le.params},r,{actionResult:_,defaultShouldRevalidate:s||y.pathname+y.search===m.pathname+m.search||y.search!==m.search||a0(j,le)}))}),w=[];return c.forEach((A,D)=>{if(o||!n.some(Te=>Te.route.id===A.routeId)||u.has(D))return;let U=Gi(h,A.path,f);if(!U){w.push({key:D,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let j=e.fetchers.get(D),le=ad(U,A.path),Fe=!1;d.has(D)?Fe=!1:l.includes(D)?Fe=!0:j&&j.state!=="idle"&&j.data===void 0?Fe=s:Fe=ug(le,je({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:_,defaultShouldRevalidate:s})),Fe&&w.push({key:D,routeId:A.routeId,path:A.path,matches:U,match:le,controller:new AbortController})}),[C,w]}function rA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function a0(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ug(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function cg(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];oe(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";yo(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!RI.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,je({},e(i),{lazy:void 0}))}async function Jo(t,e,n,r,i,o,s,a,l){l===void 0&&(l={});let u,c,d,h=g=>{let _,y=new Promise((m,v)=>_=v);return d=()=>_(),e.signal.addEventListener("abort",d),Promise.race([g({request:e,params:n.params,context:l.requestContext}),y])};try{let g=n.route[t];if(n.route.lazy)if(g){let _,y=await Promise.all([h(g).catch(m=>{_=m}),cg(n.route,o,i)]);if(_)throw _;c=y[0]}else if(await cg(n.route,o,i),g=n.route[t],g)c=await h(g);else if(t==="action"){let _=new URL(e.url),y=_.pathname+_.search;throw ln(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:Ue.data,data:void 0};else if(g)c=await h(g);else{let _=new URL(e.url),y=_.pathname+_.search;throw ln(404,{pathname:y})}oe(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){u=Ue.error,c=g}finally{d&&e.signal.removeEventListener("abort",d)}if(aA(c)){let g=c.status;if(YI.has(g)){let y=c.headers.get("Location");if(oe(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!o0.test(y))y=od(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,y,a);else if(!l.isStaticRequest){let m=new URL(e.url),v=y.startsWith("//")?new URL(m.protocol+y):new URL(y),T=xo(v.pathname,s)!=null;v.origin===m.origin&&T&&(y=v.pathname+v.search+v.hash)}if(l.isStaticRequest)throw c.headers.set("Location",y),c;return{type:Ue.redirect,status:g,location:y,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Ue.error?Ue.error:Ue.data,response:c};let _;try{let y=c.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?c.body==null?_=null:_=await c.json():_=await c.text()}catch(y){return{type:Ue.error,error:y}}return u===Ue.error?{type:u,error:new $f(g,c.statusText,_),headers:c.headers}:{type:Ue.data,data:_,statusCode:c.status,headers:c.headers}}if(u===Ue.error)return{type:u,error:c};if(sA(c)){var f,p;return{type:Ue.deferred,deferredData:c,statusCode:(f=c.init)==null?void 0:f.status,headers:((p=c.init)==null?void 0:p.headers)&&new Headers(c.init.headers)}}return{type:Ue.data,data:c}}function Zo(t,e,n,r){let i=t.createURL(l0(e)).toString(),o={signal:n};if(r&&Tn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=sd(r.formData):o.body=r.formData}return new Request(i,o)}function sd(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function hg(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function iA(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(oe(!ri(c),"Cannot handle redirect results in processLoaderData"),Yi(c)){let f=Ts(t,h),p=c.error;r&&(p=Object.values(r)[0],r=void 0),s=s||{},s[f.route.id]==null&&(s[f.route.id]=p),o[h]=void 0,l||(l=!0,a=r0(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else ni(c)?(i.set(h,c.deferredData),o[h]=c.deferredData.data):o[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function dg(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=iA(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:h,controller:f}=o[c];oe(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let p=s[c];if(!(f&&f.signal.aborted))if(Yi(p)){let g=Ts(t.matches,h==null?void 0:h.route.id);u&&u[g.route.id]||(u=je({},u,{[g.route.id]:p.error})),t.fetchers.delete(d)}else if(ri(p))oe(!1,"Unhandled fetcher revalidation redirect");else if(ni(p))oe(!1,"Unhandled fetcher deferred data");else{let g=pr(p.data);t.fetchers.set(d,g)}}return{loaderData:l,errors:u}}function fg(t,e,n,r){let i=je({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Ts(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function pg(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ln(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new $f(t||500,s,new Error(a),!0)}function mg(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ri(n))return{result:n,idx:e}}}function l0(t){let e=typeof t=="string"?lr(t):t;return gi(je({},e,{hash:""}))}function oA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ni(t){return t.type===Ue.deferred}function Yi(t){return t.type===Ue.error}function ri(t){return(t&&t.type)===Ue.redirect}function sA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function aA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lA(t){return GI.has(t.toLowerCase())}function Tn(t){return KI.has(t.toLowerCase())}async function gg(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!a0(u,l)&&(o&&o[l.route.id])!==void 0;if(ni(a)&&(i||c)){let d=r[s];oe(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await u0(a,d,i).then(h=>{h&&(n[s]=h||n[s])})}}}async function u0(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ue.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ue.error,error:i}}return{type:Ue.data,data:t.deferredData.data}}}function jf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ad(t,e){let n=typeof e=="string"?lr(e).search:e.search;if(t[t.length-1].route.index&&jf(n||""))return t[t.length-1];let r=n0(t);return r[r.length-1]}function yg(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function qc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function uA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function es(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function cA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function pr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function hA(t,e){try{let n=t.sessionStorage.getItem(s0);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function dA(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(s0,JSON.stringify(n))}catch(r){yo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(this,arguments)}const Ou=P.createContext(null),c0=P.createContext(null),Si=P.createContext(null),Mu=P.createContext(null),ur=P.createContext({outlet:null,matches:[],isDataRoute:!1}),h0=P.createContext(null);function fA(t,e){let{relative:n}=e===void 0?{}:e;va()||oe(!1);let{basename:r,navigator:i}=P.useContext(Si),{hash:o,pathname:s,search:a}=f0(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Jn([r,s])),i.createHref({pathname:l,search:a,hash:o})}function va(){return P.useContext(Mu)!=null}function Lu(){return va()||oe(!1),P.useContext(Mu).location}function d0(t){P.useContext(Si).static||P.useLayoutEffect(t)}function Fu(){let{isDataRoute:t}=P.useContext(ur);return t?PA():pA()}function pA(){va()||oe(!1);let t=P.useContext(Ou),{basename:e,future:n,navigator:r}=P.useContext(Si),{matches:i}=P.useContext(ur),{pathname:o}=Lu(),s=JSON.stringify(Ff(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return d0(()=>{a.current=!0}),P.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Uf(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Jn([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,s,o,t])}const mA=P.createContext(null);function gA(t){let e=P.useContext(ur).outlet;return e&&P.createElement(mA.Provider,{value:t},e)}function yA(){let{matches:t}=P.useContext(ur),e=t[t.length-1];return e?e.params:{}}function f0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(Si),{matches:i}=P.useContext(ur),{pathname:o}=Lu(),s=JSON.stringify(Ff(i,r.v7_relativeSplatPath));return P.useMemo(()=>Uf(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function vA(t,e,n,r){va()||oe(!1);let{navigator:i}=P.useContext(Si),{matches:o}=P.useContext(ur),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Lu(),c;if(e){var d;let _=typeof e=="string"?lr(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||oe(!1),c=_}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let p=Gi(t,{pathname:f}),g=SA(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Jn([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Jn([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&g?P.createElement(Mu.Provider,{value:{location:Qs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ze.Pop}},g):g}function _A(){let t=g0(),e=r0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const wA=P.createElement(_A,null);class EA extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(ur.Provider,{value:this.props.routeContext},P.createElement(h0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TA(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(Ou);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(ur.Provider,{value:e},r)}function SA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||oe(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,p=!1,g=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||wA,l&&(u<0&&h===0?(CA("route-fallback",!1),p=!0,_=null):u===h&&(p=!0,_=d.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,h+1)),m=()=>{let v;return f?v=g:p?v=_:d.route.Component?v=P.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,P.createElement(TA,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?P.createElement(EA,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var p0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(p0||{}),vo=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vo||{});function IA(t){let e=P.useContext(Ou);return e||oe(!1),e}function m0(t){let e=P.useContext(c0);return e||oe(!1),e}function AA(t){let e=P.useContext(ur);return e||oe(!1),e}function Bf(t){let e=AA(),n=e.matches[e.matches.length-1];return n.route.id||oe(!1),n.route.id}function RA(){let t=m0(vo.UseLoaderData),e=Bf(vo.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function g0(){var t;let e=P.useContext(h0),n=m0(vo.UseRouteError),r=Bf(vo.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function PA(){let{router:t}=IA(p0.UseNavigateStable),e=Bf(vo.UseNavigateStable),n=P.useRef(!1);return d0(()=>{n.current=!0}),P.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qs({fromRouteId:e},o)))},[t,e])}const vg={};function CA(t,e,n){!e&&!vg[t]&&(vg[t]=!0)}function kA(t){return gA(t.context)}function xA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ze.Pop,navigator:o,static:s=!1,future:a}=t;va()&&oe(!1);let l=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:o,static:s,future:Qs({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=lr(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=P.useMemo(()=>{let _=xo(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return g==null?null:P.createElement(Si.Provider,{value:u},P.createElement(Mu.Provider,{children:n,value:g}))}new Promise(()=>{});function DA(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:P.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(this,arguments)}function NA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bA(t,e){return t.button===0&&(!e||e==="_self")&&!VA(t)}const OA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],MA="6";try{window.__reactRouterVersion=MA}catch{}function LA(t,e){return eA({basename:e==null?void 0:e.basename,future:Gs({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:SI({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||FA(),routes:t,mapRouteProperties:DA,window:e==null?void 0:e.window}).initialize()}function FA(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Gs({},e,{errors:UA(e.errors)})),e}function UA(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new $f(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const $A=P.createContext({isTransitioning:!1}),jA=P.createContext(new Map),BA="startTransition",_g=hT[BA],zA="flushSync",wg=TI[zA];function WA(t){_g?_g(t):t()}function ts(t){wg?wg(t):t()}let HA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function qA(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=P.useState(n.state),[s,a]=P.useState(),[l,u]=P.useState({isTransitioning:!1}),[c,d]=P.useState(),[h,f]=P.useState(),[p,g]=P.useState(),_=P.useRef(new Map),{v7_startTransition:y}=r||{},m=P.useCallback(A=>{y?WA(A):A()},[y]),v=P.useCallback((A,D)=>{let{deletedFetchers:U,unstable_flushSync:j,unstable_viewTransitionOpts:le}=D;U.forEach(Te=>_.current.delete(Te)),A.fetchers.forEach((Te,at)=>{Te.data!==void 0&&_.current.set(at,Te.data)});let Fe=n.window==null||typeof n.window.document.startViewTransition!="function";if(!le||Fe){j?ts(()=>o(A)):m(()=>o(A));return}if(j){ts(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:le.currentLocation,nextLocation:le.nextLocation})});let Te=n.window.document.startViewTransition(()=>{ts(()=>o(A))});Te.finished.finally(()=>{ts(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})}),ts(()=>f(Te));return}h?(c&&c.resolve(),h.skipTransition(),g({state:A,currentLocation:le.currentLocation,nextLocation:le.nextLocation})):(a(A),u({isTransitioning:!0,flushSync:!1,currentLocation:le.currentLocation,nextLocation:le.nextLocation}))},[n.window,h,c,_,m]);P.useLayoutEffect(()=>n.subscribe(v),[n,v]),P.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new HA)},[l]),P.useEffect(()=>{if(c&&s&&n.window){let A=s,D=c.promise,U=n.window.document.startViewTransition(async()=>{m(()=>o(A)),await D});U.finished.finally(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}),f(U)}},[m,s,c,n.window]),P.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,h,i.location,s]),P.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),P.useEffect(()=>{},[]);let T=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,D,U)=>n.navigate(A,{state:D,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(A,D,U)=>n.navigate(A,{replace:!0,state:D,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),C=n.basename||"/",w=P.useMemo(()=>({router:n,navigator:T,static:!1,basename:C}),[n,T,C]);return P.createElement(P.Fragment,null,P.createElement(Ou.Provider,{value:w},P.createElement(c0.Provider,{value:i},P.createElement(jA.Provider,{value:_.current},P.createElement($A.Provider,{value:l},P.createElement(xA,{basename:C,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?P.createElement(KA,{routes:n.routes,future:n.future,state:i}):e))))),null)}function KA(t){let{routes:e,future:n,state:r}=t;return vA(e,void 0,r,n)}const QA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kc=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=NA(e,OA),{basename:f}=P.useContext(Si),p,g=!1;if(typeof u=="string"&&GA.test(u)&&(p=u,QA))try{let v=new URL(window.location.href),T=u.startsWith("//")?new URL(v.protocol+u):new URL(u),C=xo(T.pathname,f);T.origin===v.origin&&C!=null?u=C+T.search+T.hash:g=!0}catch{}let _=fA(u,{relative:i}),y=YA(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function m(v){r&&r(v),v.defaultPrevented||y(v)}return P.createElement("a",Gs({},h,{href:p||_,onClick:g||o?r:m,ref:n,target:l}))});var Eg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Eg||(Eg={}));var Tg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Tg||(Tg={}));function YA(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Fu(),u=Lu(),c=f0(t,{relative:s});return P.useCallback(d=>{if(bA(d,n)){d.preventDefault();let h=r!==void 0?r:gi(u)===gi(c);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}const XA="/ibabbi/assets/Logo-DKe59_EB.png";function JA(){return O.jsxs(O.Fragment,{children:[O.jsx("nav",{children:O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx(Kc,{to:"/ibabbi/christmas",children:"Natale segreto"})}),O.jsx("li",{children:O.jsx(Kc,{to:"/ibabbi/home",children:O.jsx("img",{className:"logo-default",src:XA,alt:"Home"})})}),O.jsx("li",{children:O.jsx(Kc,{to:"/ibabbi/easter",children:"Pasqua segreta"})})]})}),O.jsx(kA,{})]})}function Sg({title:t="Placeholder",content:e="Placeholder",navTo:n="christmas",isDisabled:r=!1}){const i=Fu();return O.jsxs("div",{className:"card-wrapper",children:[O.jsx("h2",{className:"card-title",children:t}),O.jsx("p",{className:"card-content",children:e}),O.jsx("button",{className:"btn btn-default",onClick:()=>i("/ibabbi/"+n),children:"Continua"})]})}function ZA(){return O.jsxs("div",{className:"home-content-wrapper",children:[O.jsx(Sg,{title:"I BABBI",content:"Aggiungi i tuoi amici e invitali a pescare dalla lista!"}),O.jsx(Sg,{navTo:"easter",title:"I CONIGLI",content:"Aggiungi i tuoi amici e invitali a pescare dalla lista!"})]})}function Qc({msg:t=""}){const e=Fu(),n=g0();return O.jsx("div",{className:"error-page-wrapper",children:O.jsxs("div",{className:"card-wrapper",children:[O.jsx("div",{className:"error-page-title",children:O.jsx("h1",{children:"Oops!"})}),O.jsxs("div",{className:"error-page-message",children:[O.jsx("p",{children:"Qualcosa  andato storto!"}),O.jsx("p",{children:O.jsx("i",{children:n.statusText||n.message})})]}),O.jsx("button",{className:"btn",onClick:()=>e("/ibabbi/home"),children:"Ritorna alla Home"})]})})}var Ig={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(y0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new tR;const h=o<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nR=function(t){const e=y0(t);return v0.encodeByteArray(e,!0)},Jl=function(t){return nR(t).replace(/\./g,"")},rR=function(t){try{return v0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>iR().__FIREBASE_DEFAULTS__,sR=()=>{if(typeof process>"u"||typeof Ig>"u")return;const t=Ig.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rR(t[1]);return e&&JSON.parse(e)},zf=()=>{try{return oR()||sR()||aR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lR=t=>{var e,n;return(n=(e=zf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uR=t=>{const e=lR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_0=()=>{var t;return(t=zf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jl(JSON.stringify(n)),Jl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){var t;const e=(t=zf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fR(){return!dR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w0(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="FirebaseError";class Do extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mR,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E0.prototype.create)}}class E0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?gR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Do(i,a,r)}}function gR(t,e){return t.replace(yR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yR=/\{\$([^}]+)}/g;function ld(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Ag(o)&&Ag(s)){if(!ld(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ag(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wR(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_R(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _R(t){return t===Xr?void 0:t}function wR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const TR={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},SR=fe.INFO,IR={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},AR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=IR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T0{constructor(e){this.name=e,this._logLevel=SR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const RR=(t,e)=>e.some(n=>t instanceof n);let Rg,Pg;function PR(){return Rg||(Rg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return Pg||(Pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,ud=new WeakMap,I0=new WeakMap,Gc=new WeakMap,Wf=new WeakMap;function kR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&S0.set(n,t)}).catch(()=>{}),Wf.set(e,t),e}function xR(t){if(ud.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ud.set(t,e)}let cd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ud.get(t);if(e==="objectStoreNames")return t.objectStoreNames||I0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DR(t){cd=t(cd)}function NR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yc(this),e,...n);return I0.set(r,e.sort?e.sort():[e]),xr(r)}:CR().includes(t)?function(...e){return t.apply(Yc(this),e),xr(S0.get(this))}:function(...e){return xr(t.apply(Yc(this),e))}}function VR(t){return typeof t=="function"?NR(t):(t instanceof IDBTransaction&&xR(t),RR(t,PR())?new Proxy(t,cd):t)}function xr(t){if(t instanceof IDBRequest)return kR(t);if(Gc.has(t))return Gc.get(t);const e=VR(t);return e!==t&&(Gc.set(t,e),Wf.set(e,t)),e}const Yc=t=>Wf.get(t);function bR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xr(s.result),l.oldVersion,l.newVersion,xr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const OR=["get","getKey","getAll","getAllKeys","count"],MR=["put","add","delete","clear"],Xc=new Map;function Cg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xc.get(e))return Xc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=MR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OR.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Xc.set(e,o),o}DR(t=>({...t,get:(e,n,r)=>Cg(e,n)||t.get(e,n,r),has:(e,n)=>!!Cg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hd="@firebase/app",kg="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new T0("@firebase/app"),UR="@firebase/app-compat",$R="@firebase/analytics-compat",jR="@firebase/analytics",BR="@firebase/app-check-compat",zR="@firebase/app-check",WR="@firebase/auth",HR="@firebase/auth-compat",qR="@firebase/database",KR="@firebase/database-compat",QR="@firebase/functions",GR="@firebase/functions-compat",YR="@firebase/installations",XR="@firebase/installations-compat",JR="@firebase/messaging",ZR="@firebase/messaging-compat",eP="@firebase/performance",tP="@firebase/performance-compat",nP="@firebase/remote-config",rP="@firebase/remote-config-compat",iP="@firebase/storage",oP="@firebase/storage-compat",sP="@firebase/firestore",aP="@firebase/firestore-compat",lP="firebase",uP="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="[DEFAULT]",cP={[hd]:"fire-core",[UR]:"fire-core-compat",[jR]:"fire-analytics",[$R]:"fire-analytics-compat",[zR]:"fire-app-check",[BR]:"fire-app-check-compat",[WR]:"fire-auth",[HR]:"fire-auth-compat",[qR]:"fire-rtdb",[KR]:"fire-rtdb-compat",[QR]:"fire-fn",[GR]:"fire-fn-compat",[YR]:"fire-iid",[XR]:"fire-iid-compat",[JR]:"fire-fcm",[ZR]:"fire-fcm-compat",[eP]:"fire-perf",[tP]:"fire-perf-compat",[nP]:"fire-rc",[rP]:"fire-rc-compat",[iP]:"fire-gcs",[oP]:"fire-gcs-compat",[sP]:"fire-fst",[aP]:"fire-fst-compat","fire-js":"fire-js",[lP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,fd=new Map;function hP(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tu(t){const e=t.name;if(fd.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,t);for(const n of eu.values())hP(n,t);return!0}function dP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Dr=new E0("app","Firebase",fP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=uP;function A0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=_0()),!n)throw Dr.create("no-options");const o=eu.get(i);if(o){if(ld(n,o.options)&&ld(r,o.config))return o;throw Dr.create("duplicate-app",{appName:i})}const s=new ER(i);for(const l of fd.values())s.addComponent(l);const a=new pP(n,r,s);return eu.set(i,a),a}function gP(t=dd){const e=eu.get(t);if(!e&&t===dd&&_0())return A0();if(!e)throw Dr.create("no-app",{appName:t});return e}function io(t,e,n){var r;let i=(r=cP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(a.join(" "));return}tu(new Xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="firebase-heartbeat-database",vP=1,Js="firebase-heartbeat-store";let Jc=null;function R0(){return Jc||(Jc=bR(yP,vP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Js)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Jc}async function _P(t){try{const n=(await R0()).transaction(Js),r=await n.objectStore(Js).get(P0(t));return await n.done,r}catch(e){if(e instanceof Do)yi.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function xg(t,e){try{const r=(await R0()).transaction(Js,"readwrite");await r.objectStore(Js).put(e,P0(t)),await r.done}catch(n){if(n instanceof Do)yi.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function P0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=1024,EP=30*24*60*60*1e3;class TP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Dg();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=EP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dg(),{heartbeatsToSend:r,unsentEntries:i}=SP(this._heartbeatsCache.heartbeats),o=Jl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Dg(){return new Date().toISOString().substring(0,10)}function SP(t,e=wP){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Ng(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ng(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w0()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _P(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ng(t){return Jl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){tu(new Xs("platform-logger",e=>new LR(e),"PRIVATE")),tu(new Xs("heartbeat",e=>new TP(e),"PRIVATE")),io(hd,kg,t),io(hd,kg,"esm2017"),io("fire-js","")}AP("");var RP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},b,Hf=Hf||{},J=RP||self;function Uu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function _a(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function PP(t){return Object.prototype.hasOwnProperty.call(t,Zc)&&t[Zc]||(t[Zc]=++CP)}var Zc="closure_uid_"+(1e9*Math.random()>>>0),CP=0;function kP(t,e,n){return t.call.apply(t.bind,arguments)}function xP(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Rt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Rt=kP:Rt=xP,Rt.apply(null,arguments)}function il(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function st(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function jr(){this.s=this.s,this.o=this.o}var DP=0;jr.prototype.s=!1;jr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),DP!=0)&&PP(this)};jr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function qf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vg(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Uu(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var NP=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};J.addEventListener("test",n,e),J.removeEventListener("test",n,e)}catch{}return t}();function Zs(t){return/^[\s\xa0]*$/.test(t)}function $u(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function bn(t){return $u().indexOf(t)!=-1}function Kf(t){return Kf[" "](t),t}Kf[" "]=function(){};function VP(t,e){var n=AC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var bP=bn("Opera"),_o=bn("Trident")||bn("MSIE"),k0=bn("Edge"),pd=k0||_o,x0=bn("Gecko")&&!($u().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge"))&&!(bn("Trident")||bn("MSIE"))&&!bn("Edge"),OP=$u().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge");function D0(){var t=J.document;return t?t.documentMode:void 0}var md;e:{var eh="",th=function(){var t=$u();if(x0)return/rv:([^\);]+)(\)|;)/.exec(t);if(k0)return/Edge\/([\d\.]+)/.exec(t);if(_o)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(OP)return/WebKit\/(\S+)/.exec(t);if(bP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(th&&(eh=th?th[1]:""),_o){var nh=D0();if(nh!=null&&nh>parseFloat(eh)){md=String(nh);break e}}md=eh}var gd;if(J.document&&_o){var bg=D0();gd=bg||parseInt(md,10)||void 0}else gd=void 0;var MP=gd;function ea(t,e){if(Pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(x0){e:{try{Kf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:LP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ea.$.h.call(this)}}st(ea,Pt);var LP={2:"touch",3:"pen",4:"mouse"};ea.prototype.h=function(){ea.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var wa="closure_listenable_"+(1e6*Math.random()|0),FP=0;function UP(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++FP,this.fa=this.ia=!1}function ju(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Qf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $P(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function N0(t){const e={};for(const n in t)e[n]=t[n];return e}const Og="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Og.length;o++)n=Og[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bu(t){this.src=t,this.g={},this.h=0}Bu.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=vd(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new UP(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function yd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=C0(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(ju(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vd(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Gf="closure_lm_"+(1e6*Math.random()|0),rh={};function b0(t,e,n,r,i){if(r&&r.once)return M0(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)b0(t,e[o],n,r,i);return null}return n=Jf(n),t&&t[wa]?t.O(e,n,_a(r)?!!r.capture:!!r,i):O0(t,e,n,!1,r,i)}function O0(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=_a(i)?!!i.capture:!!i,a=Xf(t);if(a||(t[Gf]=a=new Bu(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=jP(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)NP||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(F0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function jP(){function t(n){return e.call(t.src,t.listener,n)}const e=BP;return t}function M0(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)M0(t,e[o],n,r,i);return null}return n=Jf(n),t&&t[wa]?t.P(e,n,_a(r)?!!r.capture:!!r,i):O0(t,e,n,!0,r,i)}function L0(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)L0(t,e[o],n,r,i);else r=_a(r)?!!r.capture:!!r,n=Jf(n),t&&t[wa]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=vd(o,n,r,i),-1<n&&(ju(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Xf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vd(e,n,r,i)),(n=-1<t?e[t]:null)&&Yf(n))}function Yf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[wa])yd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(F0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xf(e))?(yd(n,t),n.h==0&&(n.src=null,e[Gf]=null)):ju(t)}}}function F0(t){return t in rh?rh[t]:rh[t]="on"+t}function BP(t,e){if(t.fa)t=!0;else{e=new ea(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Yf(t),t=n.call(r,e)}return t}function Xf(t){return t=t[Gf],t instanceof Bu?t:null}var ih="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jf(t){return typeof t=="function"?t:(t[ih]||(t[ih]=function(e){return t.handleEvent(e)}),t[ih])}function ot(){jr.call(this),this.i=new Bu(this),this.S=this,this.J=null}st(ot,jr);ot.prototype[wa]=!0;ot.prototype.removeEventListener=function(t,e,n,r){L0(this,t,e,n,r)};function mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Pt(e,t);else if(e instanceof Pt)e.target=e.target||t;else{var i=e;e=new Pt(r,t),V0(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=ol(s,r,!0,e)&&i}if(s=e.g=t,i=ol(s,r,!0,e)&&i,i=ol(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=ol(s,r,!1,e)&&i}ot.prototype.N=function(){if(ot.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ju(n[r]);delete t.g[e],t.h--}}this.J=null};ot.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ot.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ol(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&yd(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Zf=J.JSON.stringify;class zP{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function WP(){var t=ep;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class HP{constructor(){this.h=this.g=null}add(e,n){const r=U0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var U0=new zP(()=>new qP,t=>t.reset());class qP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function KP(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function QP(t){J.setTimeout(()=>{throw t},0)}let ta,na=!1,ep=new HP,$0=()=>{const t=J.Promise.resolve(void 0);ta=()=>{t.then(GP)}};var GP=()=>{for(var t;t=WP();){try{t.h.call(t.g)}catch(n){QP(n)}var e=U0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}na=!1};function zu(t,e){ot.call(this),this.h=t||1,this.g=e||J,this.j=Rt(this.qb,this),this.l=Date.now()}st(zu,ot);b=zu.prototype;b.ga=!1;b.T=null;b.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(tp(this),this.start()))}};b.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}b.N=function(){zu.$.N.call(this),tp(this),delete this.g};function np(t,e,n){if(typeof t=="function")n&&(t=Rt(t,n));else if(t&&typeof t.handleEvent=="function")t=Rt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function j0(t){t.g=np(()=>{t.g=null,t.i&&(t.i=!1,j0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class YP extends jr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:j0(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(t){jr.call(this),this.h=t,this.g={}}st(ra,jr);var Mg=[];function B0(t,e,n,r){Array.isArray(n)||(n&&(Mg[0]=n.toString()),n=Mg);for(var i=0;i<n.length;i++){var o=b0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function z0(t){Qf(t.g,function(e,n){this.g.hasOwnProperty(n)&&Yf(e)},t),t.g={}}ra.prototype.N=function(){ra.$.N.call(this),z0(this)};ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Wu(){this.g=!0}Wu.prototype.Ea=function(){this.g=!1};function XP(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function JP(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Xi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eC(t,n)+(r?" "+r:"")})}function ZP(t,e){t.info(function(){return"TIMEOUT: "+e})}Wu.prototype.info=function(){};function eC(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Zf(n)}catch{return e}}var Ii={},Lg=null;function Hu(){return Lg=Lg||new ot}Ii.Ta="serverreachability";function W0(t){Pt.call(this,Ii.Ta,t)}st(W0,Pt);function ia(t){const e=Hu();mt(e,new W0(e))}Ii.STAT_EVENT="statevent";function H0(t,e){Pt.call(this,Ii.STAT_EVENT,t),this.stat=e}st(H0,Pt);function Ot(t){const e=Hu();mt(e,new H0(e,t))}Ii.Ua="timingevent";function q0(t,e){Pt.call(this,Ii.Ua,t),this.size=e}st(q0,Pt);function Ea(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var qu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},K0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rp(){}rp.prototype.h=null;function Fg(t){return t.h||(t.h=t.i())}function Q0(){}var Ta={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ip(){Pt.call(this,"d")}st(ip,Pt);function op(){Pt.call(this,"c")}st(op,Pt);var _d;function Ku(){}st(Ku,rp);Ku.prototype.g=function(){return new XMLHttpRequest};Ku.prototype.i=function(){return{}};_d=new Ku;function Sa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ra(this),this.P=tC,t=pd?125:void 0,this.V=new zu(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new G0}function G0(){this.i=null,this.g="",this.h=!1}var tC=45e3,Y0={},wd={};b=Sa.prototype;b.setTimeout=function(t){this.P=t};function Ed(t,e,n){t.L=1,t.A=Gu(or(e)),t.u=n,t.S=!0,X0(t,null)}function X0(t,e){t.G=Date.now(),Ia(t),t.B=or(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ow(n.i,"t",r),t.o=0,n=t.l.J,t.h=new G0,t.g=Rw(t.l,n?e:null,!t.u),0<t.O&&(t.M=new YP(Rt(t.Pa,t,t.g),t.O)),B0(t.U,t.g,"readystatechange",t.nb),e=t.I?N0(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ia(),XP(t.j,t.v,t.B,t.m,t.W,t.u)}b.nb=function(t){t=t.target;const e=this.M;e&&Mn(t)==3?e.l():this.Pa(t)};b.Pa=function(t){try{if(t==this.g)e:{const c=Mn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||pd||this.g&&(this.h.h||this.g.ja()||Bg(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?ia(3):ia(2)),Qu(this);var n=this.g.da();this.ca=n;t:if(J0(this)){var r=Bg(this.g);t="";var i=r.length,o=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),Ss(this);var s="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,JP(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zs(a)){var u=a;break t}}u=null}if(n=u)Xi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Td(this,n);else{this.i=!1,this.s=3,Ot(12),ii(this),Ss(this);break e}}this.S?(Z0(this,c,s),pd&&this.i&&c==3&&(B0(this.U,this.V,"tick",this.mb),this.V.start())):(Xi(this.j,this.m,s,null),Td(this,s)),c==4&&ii(this),this.i&&!this.J&&(c==4?Tw(this.l,this):(this.i=!1,Ia(this)))}else TC(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),ii(this),Ss(this)}}}catch{}finally{}};function J0(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Z0(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=nC(t,n),i==wd){e==4&&(t.s=4,Ot(14),r=!1),Xi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Y0){t.s=4,Ot(15),Xi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xi(t.j,t.m,i,null),Td(t,i);J0(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ot(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hp(e),e.M=!0,Ot(11))):(Xi(t.j,t.m,n,"[Invalid Chunked Response]"),ii(t),Ss(t))}b.mb=function(){if(this.g){var t=Mn(this.g),e=this.g.ja();this.o<e.length&&(Qu(this),Z0(this,t,e),this.i&&t!=4&&Ia(this))}};function nC(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?wd:(n=Number(e.substring(n,r)),isNaN(n)?Y0:(r+=1,r+n>e.length?wd:(e=e.slice(r,r+n),t.o=r+n,e)))}b.cancel=function(){this.J=!0,ii(this)};function Ia(t){t.Y=Date.now()+t.P,ew(t,t.P)}function ew(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ea(Rt(t.lb,t),e)}function Qu(t){t.C&&(J.clearTimeout(t.C),t.C=null)}b.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(ZP(this.j,this.B),this.L!=2&&(ia(),Ot(17)),ii(this),this.s=2,Ss(this)):ew(this,this.Y-t)};function Ss(t){t.l.H==0||t.J||Tw(t.l,t)}function ii(t){Qu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,tp(t.V),z0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Td(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Sd(n.i,t))){if(!t.K&&Sd(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)iu(n),Zu(n);else break e;cp(n),Ot(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ea(Rt(n.ib,n),6e3));if(1>=lw(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else oi(n,11)}else if((t.K||n.g==t)&&iu(n),!Zs(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(sp(o,o.h),o.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,xe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=Aw(r,r.J?r.pa:null,r.Y),s.K){uw(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Qu(a),Ia(a)),r.g=s}else ww(r);0<n.j.length&&ec(n)}else u[0]!="stop"&&u[0]!="close"||oi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?oi(n,7):up(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ia(4)}catch{}}function rC(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Uu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function iC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Uu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function tw(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Uu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iC(t),r=rC(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var nw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oC(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ci(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ci){this.h=t.h,nu(this,t.j),this.s=t.s,this.g=t.g,ru(this,t.m),this.l=t.l;var e=t.i,n=new oa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ug(this,n),this.o=t.o}else t&&(e=String(t).match(nw))?(this.h=!1,nu(this,e[1]||"",!0),this.s=us(e[2]||""),this.g=us(e[3]||"",!0),ru(this,e[4]),this.l=us(e[5]||"",!0),Ug(this,e[6]||"",!0),this.o=us(e[7]||"")):(this.h=!1,this.i=new oa(null,this.h))}ci.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cs(e,$g,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(cs(e,$g,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(cs(n,n.charAt(0)=="/"?lC:aC,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cs(n,cC)),t.join("")};function or(t){return new ci(t)}function nu(t,e,n){t.j=n?us(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ru(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ug(t,e,n){e instanceof oa?(t.i=e,hC(t.i,t.h)):(n||(e=cs(e,uC)),t.i=new oa(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function Gu(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function us(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sC),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $g=/[#\/\?@]/g,aC=/[#\?:]/g,lC=/[#\?]/g,uC=/[#\?@]/g,cC=/#/g;function oa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Br(t){t.g||(t.g=new Map,t.h=0,t.i&&oC(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}b=oa.prototype;b.add=function(t,e){Br(this),this.i=null,t=No(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rw(t,e){Br(t),e=No(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iw(t,e){return Br(t),e=No(t,e),t.g.has(e)}b.forEach=function(t,e){Br(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};b.ta=function(){Br(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};b.Z=function(t){Br(this);let e=[];if(typeof t=="string")iw(this,t)&&(e=e.concat(this.g.get(No(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};b.set=function(t,e){return Br(this),this.i=null,t=No(this,t),iw(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};b.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ow(t,e,n){rw(t,e),0<n.length&&(t.i=null,t.g.set(No(t,e),qf(n)),t.h+=n.length)}b.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function No(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function hC(t,e){e&&!t.j&&(Br(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rw(this,r),ow(this,i,n))},t)),t.j=e}var dC=class{constructor(t,e){this.g=t,this.map=e}};function sw(t){this.l=t||fC,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fC=10;function aw(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lw(t){return t.h?1:t.g?t.g.size:0}function Sd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function sp(t,e){t.g?t.g.add(e):t.h=e}function uw(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}sw.prototype.cancel=function(){if(this.i=cw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function cw(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return qf(t.i)}var pC=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function mC(){this.g=new pC}function gC(t,e,n){const r=n||"";try{tw(t,function(i,o){let s=i;_a(i)&&(s=Zf(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yC(t,e){const n=new Wu;if(J.Image){const r=new Image;r.onload=il(sl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=il(sl,n,r,"TestLoadImage: error",!1,e),r.onabort=il(sl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=il(sl,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function sl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Yu(t){this.l=t.ec||null,this.j=t.ob||!1}st(Yu,rp);Yu.prototype.g=function(){return new Xu(this.l,this.j)};Yu.prototype.i=function(t){return function(){return t}}({});function Xu(t,e){ot.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ap,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}st(Xu,ot);var ap=0;b=Xu.prototype;b.open=function(t,e){if(this.readyState!=ap)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sa(this)};b.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};b.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=ap};b.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hw(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function hw(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}b.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Aa(this):sa(this),this.readyState==3&&hw(this)}};b.Za=function(t){this.g&&(this.response=this.responseText=t,Aa(this))};b.Ya=function(t){this.g&&(this.response=t,Aa(this))};b.ka=function(){this.g&&Aa(this)};function Aa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sa(t)}b.setRequestHeader=function(t,e){this.v.append(t,e)};b.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};b.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function sa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var vC=J.JSON.parse;function Be(t){ot.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dw,this.L=this.M=!1}st(Be,ot);var dw="",_C=/^https?$/i,wC=["POST","PUT"];b=Be.prototype;b.Oa=function(t){this.M=t};b.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_d.g(),this.C=this.u?Fg(this.u):Fg(_d),this.g.onreadystatechange=Rt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){jg(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=C0(wC,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mw(this),0<this.B&&((this.L=EC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rt(this.ua,this)):this.A=np(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){jg(this,o)}};function EC(t){return _o&&typeof t.timeout=="number"&&t.ontimeout!==void 0}b.ua=function(){typeof Hf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function jg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fw(t),Ju(t)}function fw(t){t.F||(t.F=!0,mt(t,"complete"),mt(t,"error"))}b.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mt(this,"complete"),mt(this,"abort"),Ju(this))};b.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ju(this,!0)),Be.$.N.call(this)};b.La=function(){this.s||(this.G||this.v||this.l?pw(this):this.kb())};b.kb=function(){pw(this)};function pw(t){if(t.h&&typeof Hf<"u"&&(!t.C[1]||Mn(t)!=4||t.da()!=2)){if(t.v&&Mn(t)==4)np(t.La,0,t);else if(mt(t,"readystatechange"),Mn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(nw)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!_C.test(i?i.toLowerCase():"")}n=r}if(n)mt(t,"complete"),mt(t,"success");else{t.m=6;try{var o=2<Mn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",fw(t)}}finally{Ju(t)}}}}function Ju(t,e){if(t.g){mw(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function mw(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}b.isActive=function(){return!!this.g};function Mn(t){return t.g?t.g.readyState:0}b.da=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}};b.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};b.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),vC(e)}};function Bg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dw:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TC(t){const e={};t=(t.g&&2<=Mn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Zs(t[r]))continue;var n=KP(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}$P(e,function(r){return r.join(", ")})}b.Ia=function(){return this.m};b.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function gw(t){let e="";return Qf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function lp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gw(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function ns(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yw(t){this.Ga=0,this.j=[],this.l=new Wu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ns("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ns("baseRetryDelayMs",5e3,t),this.hb=ns("retryDelaySeedMs",1e4,t),this.eb=ns("forwardChannelMaxRetries",2,t),this.xa=ns("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sw(t&&t.concurrentRequestLimit),this.Ja=new mC,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}b=yw.prototype;b.ra=8;b.H=1;function up(t){if(vw(t),t.H==3){var e=t.W++,n=or(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),Ra(t,n),e=new Sa(t,t.l,e),e.L=2,e.A=Gu(or(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.A,n=!0),n||(e.g=Rw(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ia(e)}Iw(t)}function Zu(t){t.g&&(hp(t),t.g.cancel(),t.g=null)}function vw(t){Zu(t),t.u&&(J.clearTimeout(t.u),t.u=null),iu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function ec(t){if(!aw(t.i)&&!t.m){t.m=!0;var e=t.Na;ta||$0(),na||(ta(),na=!0),ep.add(e,t),t.C=0}}function SC(t,e){return lw(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ea(Rt(t.Na,t,e),Sw(t,t.C)),t.C++,!0)}b.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Sa(this,this.l,t);let o=this.s;if(this.U&&(o?(o=N0(o),V0(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_w(this,i,e),n=or(this.I),xe(n,"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),Ra(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(gw(o)))+"&"+e:this.o&&lp(n,this.o,o)),sp(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),i.aa=!0,Ed(i,n,null)):Ed(i,n,e),this.H=2}}else this.H==3&&(t?zg(this,t):this.j.length==0||aw(this.i)||zg(this))};function zg(t,e){var n;e?n=e.m:n=t.W++;const r=or(t.I);xe(r,"SID",t.K),xe(r,"RID",n),xe(r,"AID",t.V),Ra(t,r),t.o&&t.s&&lp(r,t.o,t.s),n=new Sa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=_w(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),sp(t.i,n),Ed(n,r,e)}function Ra(t,e){t.na&&Qf(t.na,function(n,r){xe(e,r,n)}),t.h&&tw({},function(n,r){xe(e,r,n)})}function _w(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Rt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{gC(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ww(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ta||$0(),na||(ta(),na=!0),ep.add(e,t),t.A=0}}function cp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ea(Rt(t.Ma,t),Sw(t,t.A)),t.A++,!0)}b.Ma=function(){if(this.u=null,Ew(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ea(Rt(this.jb,this),t)}};b.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ot(10),Zu(this),Ew(this))};function hp(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function Ew(t){t.g=new Sa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=or(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),Ra(t,e),t.o&&t.s&&lp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Gu(or(e)),n.u=null,n.S=!0,X0(n,t)}b.ib=function(){this.v!=null&&(this.v=null,Zu(this),cp(this),Ot(19))};function iu(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function Tw(t,e){var n=null;if(t.g==e){iu(t),hp(t),t.g=null;var r=2}else if(Sd(t.i,e))n=e.F,uw(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Hu(),mt(r,new q0(r,n)),ec(t)}else ww(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&SC(t,e)||r==2&&cp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:oi(t,5);break;case 4:oi(t,10);break;case 3:oi(t,6);break;default:oi(t,2)}}}function Sw(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function oi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Rt(t.pb,t);n||(n=new ci("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||nu(n,"https"),Gu(n)),yC(n.toString(),r)}else Ot(2);t.H=0,t.h&&t.h.za(e),Iw(t),vw(t)}b.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ot(2)):(this.l.info("Failed to ping google.com"),Ot(1))};function Iw(t){if(t.H=0,t.ma=[],t.h){const e=cw(t.i);(e.length!=0||t.j.length!=0)&&(Vg(t.ma,e),Vg(t.ma,t.j),t.i.i.length=0,qf(t.j),t.j.length=0),t.h.ya()}}function Aw(t,e,n){var r=n instanceof ci?or(n):new ci(n);if(r.g!="")e&&(r.g=e+"."+r.g),ru(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ci(null);r&&nu(o,r),e&&(o.g=e),i&&ru(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&xe(r,n,e),xe(r,"VER",t.ra),Ra(t,r),r}function Rw(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Be(new Yu({ob:n})):new Be(t.va),e.Oa(t.J),e}b.isActive=function(){return!!this.h&&this.h.isActive(this)};function Pw(){}b=Pw.prototype;b.Ba=function(){};b.Aa=function(){};b.za=function(){};b.ya=function(){};b.isActive=function(){return!0};b.Va=function(){};function ou(){if(_o&&!(10<=Number(MP)))throw Error("Environmental error: no available transport.")}ou.prototype.g=function(t,e){return new tn(t,e)};function tn(t,e){ot.call(this),this.g=new yw(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Zs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zs(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Vo(this)}st(tn,ot);tn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ot(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Aw(t,null,t.Y),ec(t)};tn.prototype.close=function(){up(this.g)};tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Zf(t),t=n);e.j.push(new dC(e.fb++,t)),e.H==3&&ec(e)};tn.prototype.N=function(){this.g.h=null,delete this.j,up(this.g),delete this.g,tn.$.N.call(this)};function Cw(t){ip.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}st(Cw,ip);function kw(){op.call(this),this.status=1}st(kw,op);function Vo(t){this.g=t}st(Vo,Pw);Vo.prototype.Ba=function(){mt(this.g,"a")};Vo.prototype.Aa=function(t){mt(this.g,new Cw(t))};Vo.prototype.za=function(t){mt(this.g,new kw)};Vo.prototype.ya=function(){mt(this.g,"b")};function IC(){this.blockSize=-1}function Cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}st(Cn,IC);Cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function oh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Cn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)oh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){oh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){oh(this,r),i=0;break}}this.h=i,this.i+=e};Cn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var AC={};function dp(t){return-128<=t&&128>t?VP(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function Ln(t){if(isNaN(t)||!isFinite(t))return oo;if(0>t)return dt(Ln(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Id;return new Ee(e,0)}function xw(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(xw(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ln(Math.pow(e,8)),r=oo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Ln(Math.pow(e,o)),r=r.R(o).add(Ln(s))):(r=r.R(n),r=r.add(Ln(s)))}return r}var Id=4294967296,oo=dp(0),Ad=dp(1),Wg=dp(16777216);b=Ee.prototype;b.ea=function(){if(hn(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Id+r)*e,e*=Id}return t};b.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Yn(this))return"0";if(hn(this))return"-"+dt(this).toString(t);for(var e=Ln(Math.pow(t,6)),n=this,r="";;){var i=au(n,e).g;n=su(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Yn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};b.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Yn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hn(t){return t.h==-1}b.X=function(t){return t=su(this,t),hn(t)?-1:Yn(t)?0:1};function dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(Ad)}b.abs=function(){return hn(this)?dt(this):this};b.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function su(t,e){return t.add(dt(e))}b.R=function(t){if(Yn(this)||Yn(t))return oo;if(hn(this))return hn(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(hn(t))return dt(this.R(dt(t)));if(0>this.X(Wg)&&0>t.X(Wg))return Ln(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,al(n,2*r+2*i),n[2*r+2*i+1]+=o*l,al(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,al(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,al(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function al(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function rs(t,e){this.g=t,this.h=e}function au(t,e){if(Yn(e))throw Error("division by zero");if(Yn(t))return new rs(oo,oo);if(hn(t))return e=au(dt(t),e),new rs(dt(e.g),dt(e.h));if(hn(e))return e=au(t,dt(e)),new rs(dt(e.g),e.h);if(30<t.g.length){if(hn(t)||hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ad,r=e;0>=r.X(t);)n=Hg(n),r=Hg(r);var i=Ni(n,1),o=Ni(r,1);for(r=Ni(r,2),n=Ni(n,2);!Yn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ni(r,1),n=Ni(n,1)}return e=su(t,i.R(e)),new rs(i,e)}for(i=oo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Ln(n),s=o.R(e);hn(s)||0<s.X(t);)n-=r,o=Ln(n),s=o.R(e);Yn(o)&&(o=Ad),i=i.add(o),t=su(t,s)}return new rs(i,t)}b.gb=function(t){return au(this,t).h};b.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};b.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};b.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function Hg(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function Ni(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ee(i,t.h)}ou.prototype.createWebChannel=ou.prototype.g;tn.prototype.send=tn.prototype.u;tn.prototype.open=tn.prototype.m;tn.prototype.close=tn.prototype.close;qu.NO_ERROR=0;qu.TIMEOUT=8;qu.HTTP_ERROR=6;K0.COMPLETE="complete";Q0.EventType=Ta;Ta.OPEN="a";Ta.CLOSE="b";Ta.ERROR="c";Ta.MESSAGE="d";ot.prototype.listen=ot.prototype.O;Be.prototype.listenOnce=Be.prototype.P;Be.prototype.getLastError=Be.prototype.Sa;Be.prototype.getLastErrorCode=Be.prototype.Ia;Be.prototype.getStatus=Be.prototype.da;Be.prototype.getResponseJson=Be.prototype.Wa;Be.prototype.getResponseText=Be.prototype.ja;Be.prototype.send=Be.prototype.ha;Be.prototype.setWithCredentials=Be.prototype.Oa;Cn.prototype.digest=Cn.prototype.l;Cn.prototype.reset=Cn.prototype.reset;Cn.prototype.update=Cn.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=Ln;Ee.fromString=xw;var RC=function(){return new ou},PC=function(){return Hu()},sh=qu,CC=K0,kC=Ii,qg={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ll=Q0,xC=Be,DC=Cn,so=Ee;const Kg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new T0("@firebase/firestore");function is(){return vi.logLevel}function V(t,...e){if(vi.logLevel<=fe.DEBUG){const n=e.map(fp);vi.debug(`Firestore (${bo}): ${t}`,...n)}}function Bn(t,...e){if(vi.logLevel<=fe.ERROR){const n=e.map(fp);vi.error(`Firestore (${bo}): ${t}`,...n)}}function wo(t,...e){if(vi.logLevel<=fe.WARN){const n=e.map(fp);vi.warn(`Firestore (${bo}): ${t}`,...n)}}function fp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+t;throw Bn(e),new Error(e)}function Pe(t,e){t||Z()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Do{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class VC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bC{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new Dw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new Tt(e)}}class OC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new OC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new LC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=UC(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function Eo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Ge(0,0))}static max(){return new ee(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return aa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof aa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends aa{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const $C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends aa{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return $C.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(Ve.fromString(e))}static fromName(e){return new W(Ve.fromString(e).popFirst(5))}static empty(){return new W(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new Ve(e.slice()))}}function jC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Or(i,W.empty(),e)}function BC(t){return new Or(t.readTime,t.key,-1)}class Or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Or(ee.min(),W.empty(),-1)}static max(){return new Or(ee.max(),W.empty(),-1)}}function zC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==WC)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new R((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Zn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Is(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=mp(r.target.error);this.V.reject(new Is(e,i))}}static open(e,n,r,i){try{return new pp(n,e.transaction(i,r))}catch(o){throw new Is(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new KC(n)}}class si{constructor(e,n,r){this.name=e,this.version=n,this.p=r,si.S(Zl())===12.2&&Bn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),Jr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!w0())return!1;if(si.C())return!0;const e=Zl(),n=si.S(e),r=0<n&&n<10,i=si.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Is(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new B(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new B(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Is(e,s))},i.onupgradeneeded=o=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=pp.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),R.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(V("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class qC{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Jr(this.k.delete())}}class Is extends B{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ca(t){return t.name==="IndexedDbTransactionError"}class KC{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Jr(r)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),Jr(this.store.add(e))}get(e){return Jr(this.store.get(e)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),Jr(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),Jr(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new R((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new R((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){V("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new R((r,i)=>{n.onerror=o=>{const s=mp(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new R((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new qC(a),u=n(a.primaryKey,a.value,l);if(u instanceof R){const c=u.catch(d=>(l.done(),R.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Jr(t){return new R((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=mp(r.target.error);n(i)}})}let Qg=!1;function mp(t){const e=si.S(Zl());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qg||(Qg=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}gp._e=-1;function tc(t){return t==null}function lu(t){return t===0&&1/t==-1/0}function QC(t){return typeof t=="number"&&Number.isInteger(t)&&!lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ul(this.root,e,this.comparator,!0)}}class ul{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=o??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yg(this.data.getIterator())}getIteratorFrom(e){return new Yg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Yg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new In([])}unionWith(e){let n=new gt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bw("Invalid base64 string: "+o):o}}(e);return new xt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const GC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=GC.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _i(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vp(t){const e=t.mapValue.fields.__previous_value__;return yp(e)?vp(e):e}function la(t){const e=Mr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ua{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yp(t)?4:XC(t)?9007199254740991:10:Z()}function zn(t,e){if(t===e)return!0;const n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return la(t).isEqual(la(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Mr(i.timestampValue),a=Mr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return _i(i.bytesValue).isEqual(_i(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ke(i.geoPointValue.latitude)===Ke(o.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ke(i.integerValue)===Ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ke(i.doubleValue),a=Ke(o.doubleValue);return s===a?lu(s)===lu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Eo(t.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Gg(s)!==Gg(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!zn(s[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function ca(t,e){return(t.values||[]).find(n=>zn(n,e))!==void 0}function To(t,e){if(t===e)return 0;const n=wi(t),r=wi(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ke(o.integerValue||o.doubleValue),l=Ke(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Xg(t.timestampValue,e.timestampValue);case 4:return Xg(la(t),la(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(o,s){const a=_i(o),l=_i(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ye(a[u],l[u]);if(c!==0)return c}return ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ye(Ke(o.latitude),Ke(s.latitude));return a!==0?a:ye(Ke(o.longitude),Ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=To(a[u],l[u]);if(c)return c}return ye(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===cl.mapValue&&s===cl.mapValue)return 0;if(o===cl.mapValue)return 1;if(s===cl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=ye(l[d],c[d]);if(h!==0)return h;const f=To(a[l[d]],u[c[d]]);if(f!==0)return f}return ye(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Z()}}function Xg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Mr(t),r=Mr(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function So(t){return Rd(t)}function Rd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Rd(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Rd(n.fields[s])}`;return i+"}"}(t.mapValue):Z()}function Pd(t){return!!t&&"integerValue"in t}function _p(t){return!!t&&"arrayValue"in t}function Jg(t){return!!t&&"nullValue"in t}function Zg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Il(t){return!!t&&"mapValue"in t}function As(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=As(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=As(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Il(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=As(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=As(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Il(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Il(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new dn(As(this.value))}}function Ow(t){const e=[];return Oo(t.fields,(n,r)=>{const i=new ft([n]);if(Il(r)){const o=Ow(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new At(e,0,ee.min(),ee.min(),ee.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new At(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new At(e,2,n,ee.min(),ee.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ee.min(),ee.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.position=e,this.inclusive=n}}function ey(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=To(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ty(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function JC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{}class Je extends Mw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ek(e,n,r):n==="array-contains"?new rk(e,r):n==="in"?new ik(e,r):n==="not-in"?new ok(e,r):n==="array-contains-any"?new sk(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tk(e,r):new nk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(To(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Mw{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Wn(e,n)}matches(e){return Lw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Lw(t){return t.op==="and"}function Fw(t){return ZC(t)&&Lw(t)}function ZC(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function Cd(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+So(t.value);if(Fw(t))return t.filters.map(e=>Cd(e)).join(",");{const e=t.filters.map(n=>Cd(n)).join(",");return`${t.op}(${e})`}}function Uw(t,e){return t instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&zn(r.value,i.value)}(t,e):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Uw(s,i.filters[a]),!0):!1}(t,e):void Z()}function $w(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map($w).join(" ,")+"}"}(t):"Filter"}class ek extends Je{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class tk extends Je{constructor(e,n){super(e,"in",n),this.keys=jw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nk extends Je{constructor(e,n){super(e,"not-in",n),this.keys=jw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class rk extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&ca(n.arrayValue,this.value)}}class ik extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ca(this.value.arrayValue,n)}}class ok extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ca(this.value.arrayValue,n)}}class sk extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ca(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function ny(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ak(t,e,n,r,i,o,s)}function wp(t){const e=te(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),tc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>So(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>So(r)).join(",")),e.ce=n}return e.ce}function Ep(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Uw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ty(t.startAt,e.startAt)&&ty(t.endAt,e.endAt)}function kd(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function lk(t,e,n,r,i,o,s,a){return new nc(t,e,n,r,i,o,s,a)}function Tp(t){return new nc(t)}function ry(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uk(t){return t.collectionGroup!==null}function Rs(t){const e=te(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new gt(ft.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new cu(o,r))}),n.has(ft.keyField().canonicalString())||e.le.push(new cu(ft.keyField(),r))}return e.le}function $n(t){const e=te(t);return e.he||(e.he=ck(e,Rs(t))),e.he}function ck(t,e){if(t.limitType==="F")return ny(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new cu(i.field,o)});const n=t.endAt?new uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uu(t.startAt.position,t.startAt.inclusive):null;return ny(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xd(t,e,n){return new nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rc(t,e){return Ep($n(t),$n(e))&&t.limitType===e.limitType}function Bw(t){return`${wp($n(t))}|lt:${t.limitType}`}function bi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$w(i)).join(", ")}]`),tc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>So(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>So(i)).join(",")),`Target(${r})`}($n(t))}; limitType=${t.limitType})`}function ic(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Rs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=ey(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Rs(r),i)||r.endAt&&!function(s,a,l){const u=ey(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Rs(r),i))}(t,e)}function hk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zw(t){return(e,n)=>{let r=!1;for(const i of Rs(t)){const o=dk(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function dk(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?To(l,u):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Vw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new Le(W.comparator);function sr(){return fk}const Ww=new Le(W.comparator);function hs(...t){let e=Ww;for(const n of t)e=e.insert(n.key,n);return e}function Hw(t){let e=Ww;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ai(){return Ps()}function qw(){return Ps()}function Ps(){return new Mo(t=>t.toString(),(t,e)=>t.isEqual(e))}const pk=new Le(W.comparator),mk=new gt(W.comparator);function se(...t){let e=mk;for(const n of t)e=e.add(n);return e}const gk=new gt(ye);function yk(){return gk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lu(e)?"-0":e}}function Qw(t){return{integerValue:""+t}}function vk(t,e){return QC(e)?Qw(e):Kw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this._=void 0}}function _k(t,e,n){return t instanceof hu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yp(o)&&(o=vp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ha?Yw(t,e):t instanceof da?Xw(t,e):function(i,o){const s=Gw(i,o),a=iy(s)+iy(i.Ie);return Pd(s)&&Pd(i.Ie)?Qw(a):Kw(i.serializer,a)}(t,e)}function wk(t,e,n){return t instanceof ha?Yw(t,e):t instanceof da?Xw(t,e):n}function Gw(t,e){return t instanceof du?function(r){return Pd(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class hu extends oc{}class ha extends oc{constructor(e){super(),this.elements=e}}function Yw(t,e){const n=Jw(e);for(const r of t.elements)n.some(i=>zn(i,r))||n.push(r);return{arrayValue:{values:n}}}class da extends oc{constructor(e){super(),this.elements=e}}function Xw(t,e){let n=Jw(e);for(const r of t.elements)n=n.filter(i=>!zn(i,r));return{arrayValue:{values:n}}}class du extends oc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function iy(t){return Ke(t.integerValue||t.doubleValue)}function Jw(t){return _p(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ek(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ha&&i instanceof ha||r instanceof da&&i instanceof da?Eo(r.elements,i.elements,zn):r instanceof du&&i instanceof du?zn(r.Ie,i.Ie):r instanceof hu&&i instanceof hu}(t.transform,e.transform)}class Tk{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Al(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sc{}function Zw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tE(t.key,er.none()):new ka(t.key,t.data,er.none());{const n=t.data,r=dn.empty();let i=new gt(ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ai(t.key,r,new In(i.toArray()),er.none())}}function Sk(t,e,n){t instanceof ka?function(i,o,s){const a=i.value.clone(),l=sy(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ai?function(i,o,s){if(!Al(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=sy(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(eE(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Cs(t,e,n,r){return t instanceof ka?function(o,s,a,l){if(!Al(o.precondition,s))return a;const u=o.value.clone(),c=ay(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ai?function(o,s,a,l){if(!Al(o.precondition,s))return a;const u=ay(o.fieldTransforms,l,s),c=s.data;return c.setAll(eE(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Al(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Ik(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Gw(r.transform,i||null);o!=null&&(n===null&&(n=dn.empty()),n.set(r.field,o))}return n||null}function oy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Eo(r,i,(o,s)=>Ek(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ka extends sc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ai extends sc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function eE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sy(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,wk(s,a,n[i]))}return r}function ay(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,_k(o,s,e))}return r}class tE extends sc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ak extends sc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Sk(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qw();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Zw(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,r)=>oy(n,r))&&Eo(this.baseMutations,e.baseMutations,(n,r)=>oy(n,r))}}class Sp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=function(){return pk}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Sp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,he;function kk(t){switch(t){default:return Z();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function nE(t){if(t===void 0)return Bn("GRPC error has no .code"),k.UNKNOWN;switch(t){case qe.OK:return k.OK;case qe.CANCELLED:return k.CANCELLED;case qe.UNKNOWN:return k.UNKNOWN;case qe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case qe.INTERNAL:return k.INTERNAL;case qe.UNAVAILABLE:return k.UNAVAILABLE;case qe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case qe.NOT_FOUND:return k.NOT_FOUND;case qe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case qe.ABORTED:return k.ABORTED;case qe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case qe.DATA_LOSS:return k.DATA_LOSS;default:return Z()}}(he=qe||(qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new so([4294967295,4294967295],0);function ly(t){const e=xk().encode(t),n=new DC;return n.update(e),new Uint8Array(n.digest())}function uy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new so([n,r],0),new so([i,o],0)]}class Ip{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ds(`Invalid padding: ${n}`);if(r<0)throw new ds(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ds(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ds(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=so.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(so.fromNumber(r)));return i.compare(Dk)===1&&(i=new so([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=ly(e),[r,i]=uy(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ip(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=ly(e),[r,i]=uy(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ds extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ac(ee.min(),i,new Le(ye),sr(),se())}}class xa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xa(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class rE{constructor(e,n){this.targetId=e,this.fe=n}}class iE{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cy{constructor(){this.ge=0,this.pe=dy(),this.ye=xt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=se(),n=se(),r=se();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new xa(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=dy()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Pe(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Nk{constructor(e){this.Be=e,this.ke=new Map,this.qe=sr(),this.Qe=hy(),this.Ke=new Le(ye)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(kd(o))if(r===0){const s=new W(o.path);this.We(n,s,At.newNoDocument(s,ee.min()))}else Pe(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=_i(r).toUint8Array()}catch(l){if(l instanceof bw)return wo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ip(s,i,o)}catch(l){return wo(l instanceof ds?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&kd(a.target)){const l=new W(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,At.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=se();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new ac(e,n,this.Ke,this.qe,r);return this.qe=sr(),this.Qe=hy(),this.Ke=new Le(ye),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new cy,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new gt(ye),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new cy),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function hy(){return new Le(W.comparator)}function dy(){return new Le(W.comparator)}const Vk={asc:"ASCENDING",desc:"DESCENDING"},bk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ok={and:"AND",or:"OR"};class Mk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dd(t,e){return t.useProto3Json||tc(e)?e:{value:e}}function fu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lk(t,e){return fu(t,e.toTimestamp())}function jn(t){return Pe(!!t),ee.fromTimestamp(function(n){const r=Mr(n);return new Ge(r.seconds,r.nanos)}(t))}function Ap(t,e){return Nd(t,e).canonicalString()}function Nd(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sE(t){const e=Ve.fromString(t);return Pe(hE(e)),e}function Vd(t,e){return Ap(t.databaseId,e.path)}function ah(t,e){const n=sE(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(lE(n))}function aE(t,e){return Ap(t.databaseId,e)}function Fk(t){const e=sE(t);return e.length===4?Ve.emptyPath():lE(e)}function bd(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lE(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fy(t,e,n){return{name:Vd(t,e),fields:n.value.mapValue.fields}}function Uk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Pe(c===void 0||typeof c=="string"),xt.fromBase64String(c||"")):(Pe(c===void 0||c instanceof Uint8Array),xt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?k.UNKNOWN:nE(u.code);return new B(c,u.message||"")}(s);n=new iE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ah(t,r.document.name),o=jn(r.document.updateTime),s=r.document.createTime?jn(r.document.createTime):ee.min(),a=new dn({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Rl(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ah(t,r.document),o=r.readTime?jn(r.readTime):ee.min(),s=At.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Rl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ah(t,r.document),o=r.removedTargetIds||[];n=new Rl([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Ck(i,o),a=r.targetId;n=new rE(a,s)}}return n}function $k(t,e){let n;if(e instanceof ka)n={update:fy(t,e.key,e.value)};else if(e instanceof tE)n={delete:Vd(t,e.key)};else if(e instanceof Ai)n={update:fy(t,e.key,e.data),updateMask:Gk(e.fieldMask)};else{if(!(e instanceof Ak))return Z();n={verify:Vd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof hu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ha)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof da)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof du)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Lk(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(t,e.precondition)),n}function jk(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?jn(i.updateTime):jn(o);return s.isEqual(ee.min())&&(s=jn(o)),new Tk(s,i.transformResults||[])}(n,e))):[]}function Bk(t,e){return{documents:[aE(t,e.path)]}}function zk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aE(t,i);const o=function(u){if(u.length!==0)return cE(Wn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Oi(h.field),direction:qk(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Dd(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function Wk(t){let e=Fk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=uE(d);return h instanceof Wn&&Fw(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(p){return new cu(Mi(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,tc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new uu(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new uu(f,h)}(n.endAt)),lk(e,i,s,o,a,"F",l,u)}function Hk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mi(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mi(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mi(n.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Mi(n.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Mi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>uE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function qk(t){return Vk[t]}function Kk(t){return bk[t]}function Qk(t){return Ok[t]}function Oi(t){return{fieldPath:t.canonicalString()}}function Mi(t){return ft.fromServerFormat(t.fieldPath)}function cE(t){return t instanceof Je?function(n){if(n.op==="=="){if(Zg(n.value))return{unaryFilter:{field:Oi(n.field),op:"IS_NAN"}};if(Jg(n.value))return{unaryFilter:{field:Oi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zg(n.value))return{unaryFilter:{field:Oi(n.field),op:"IS_NOT_NAN"}};if(Jg(n.value))return{unaryFilter:{field:Oi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oi(n.field),op:Kk(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const r=n.getFilters().map(i=>cE(i));return r.length===1?r[0]:{compositeFilter:{op:Qk(n.op),filters:r}}}(t):Z()}function Gk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r,i,o=ee.min(),s=ee.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.ct=e}}function Xk(t){const e=Wk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this._n=new Zk}addToCollectionParentIndex(e,n){return this._n.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Or.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class Zk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Io(0)}static Ln(){return new Io(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.changes=new Mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cs(r.mutation,i,In.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=ai();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=hs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=sr();const s=Ps(),a=function(){return Ps()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ai)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Cs(c.mutation,u,c.mutation.getFieldMask(),Ge.now())):s.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new tx(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ps();let i=new Le((s,a)=>s-a),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||In.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=qw();c.forEach(h=>{if(!o.has(h)){const f=Zw(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):R.resolve(ai());let a=-1,l=o;return s.next(u=>R.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?R.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,se())).next(c=>({batchId:a,changes:Hw(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=hs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=hs();return this.indexManager.getCollectionParents(e,o).next(a=>R.forEach(a,l=>{const u=function(d,h){return new nc(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,At.newInvalidDocument(c)))});let a=hs();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Cs(c.mutation,u,In.empty(),Ge.now()),ic(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return R.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jn(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Xk(i.bundledQuery),readTime:jn(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.overlays=new Le(W.comparator),this.hr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ai();return R.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=ai(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Le((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ai(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ai(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Pk(n,r));let o=this.hr.get(n);o===void 0&&(o=se(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.Pr=new gt(nt.Ir),this.Tr=new gt(nt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new nt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new W(new Ve([])),r=new nt(n,e),i=new nt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new W(new Ve([])),r=new nt(n,e),i=new nt(n,e+1);let o=se();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new nt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return W.comparator(e.key,n.key)||ye(e.pr,n.pr)}static Er(e,n){return ye(e.pr,n.pr)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new gt(nt.Ir)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Rk(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new nt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,n){return R.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(ye);return n.forEach(i=>{const o=new nt(i,0),s=new nt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),R.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;W.isDocumentKey(o)||(o=o.child(""));const s=new nt(new W(o),0);let a=new gt(ye);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),R.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return R.forEach(n.mutations,i=>{const o=new nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new nt(n,0),i=this.wr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.vr=e,this.docs=function(){return new Le(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():At.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=sr();const s=n.path,a=new W(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||zC(BC(c),r)<=0||(i.has(c.key)||ic(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}Fr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ax(this)}getSize(e){return R.resolve(this.size)}}class ax extends ex{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.persistence=e,this.Mr=new Mo(n=>wp(n),Ep),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Rp,this.targetCount=0,this.Lr=Io.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),R.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.qn(n),R.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.Br={},this.overlays={},this.kr=new gp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new lx(this),this.indexManager=new Jk,this.remoteDocumentCache=function(i){return new sx(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Yk(n),this.$r=new rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ix,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ox(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);const i=new cx(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class cx extends HC{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.zr=new Rp,this.jr=null}static Hr(e){return new Pp(e)}get Jr(){if(this.jr)return this.jr;throw Z()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),R.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Jr,r=>{const i=W.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return R.or([()=>R.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=se(),i=se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Cp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return fR()?8:si.v(Zl())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new hx;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(is()<=fe.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),R.resolve()):(is()<=fe.DEBUG&&V("QueryEngine","Query:",bi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(is()<=fe.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):R.resolve())}ji(e,n){if(ry(n))return R.resolve(null);let r=$n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xd(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=se(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,xd(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return ry(n)||i.isEqual(ee.min())?R.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?R.resolve(null):(is()<=fe.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bi(n)),this.es(e,s,n,jC(i,-1)).next(a=>a))})}Zi(e,n){let r=new gt(zw(e));return n.forEach((i,o)=>{ic(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return is()<=fe.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",bi(n)),this.zi.getDocumentsMatchingQuery(e,n,Or.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Le(ye),this.rs=new Mo(o=>wp(o),Ep),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nx(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function px(t,e,n,r){return new fx(t,e,n,r)}async function dE(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=se();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function mx(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=R.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(g=>{const _=u.docVersions.get(p);Pe(_!==null),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fE(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function gx(t,e){const n=te(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(xt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(g,_,y){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,c)&&a.push(n.Qr.updateTargetData(o,f))});let l=sr(),u=se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(yx(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ee.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function yx(t,e,n){let r=se(),i=se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=sr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function vx(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _x(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Er(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Od(t,e,n){const r=te(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ca(s))throw s;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function py(t,e,n){const r=te(t);let i=ee.min(),o=se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=te(l),h=d.rs.get(c);return h!==void 0?R.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,s,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:se())).next(a=>(wx(r,hk(e),a),{documents:a,hs:o})))}function wx(t,e,n){let r=t.ss.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class my{constructor(){this.activeTargetIds=yk()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ex{constructor(){this.no=new my,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new my,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl=null;function lh(){return hl===null?hl=function(){return 268435456+Math.round(2147483648*Math.random())}():hl++,"0x"+hl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class Ax extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=lh(),l=this.bo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(V("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw wo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=Sx[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=lh();return new Promise((s,a)=>{const l=new xC;l.setWithCredentials(!0),l.listenOnce(CC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sh.NO_ERROR:const c=l.getResponseJson();V(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case sh.TIMEOUT:V(Et,`RPC '${e}' ${o} timed out`),a(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const d=l.getStatus();if(V(Et,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(y)>=0?y:k.UNKNOWN}(f.status);a(new B(p,f.message))}else a(new B(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(k.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{V(Et,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);V(Et,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=lh(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=RC(),a=PC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");V(Et,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,f=!1;const p=new Ix({lo:_=>{f?V(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(V(Et,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),V(Et,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),g=(_,y,m)=>{_.listen(y,v=>{try{m(v)}catch(T){setTimeout(()=>{throw T},0)}})};return g(d,ll.EventType.OPEN,()=>{f||V(Et,`RPC '${e}' stream ${i} transport opened.`)}),g(d,ll.EventType.CLOSE,()=>{f||(f=!0,V(Et,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(d,ll.EventType.ERROR,_=>{f||(f=!0,wo(Et,`RPC '${e}' stream ${i} transport errored:`,_),p.Vo(new B(k.UNAVAILABLE,"The operation could not be completed")))}),g(d,ll.EventType.MESSAGE,_=>{var y;if(!f){const m=_.data[0];Pe(!!m);const v=m,T=v.error||((y=v[0])===null||y===void 0?void 0:y.error);if(T){V(Et,`RPC '${e}' stream ${i} received error:`,T);const C=T.status;let w=function(U){const j=qe[U];if(j!==void 0)return nE(j)}(C),A=T.message;w===void 0&&(w=k.INTERNAL,A="Unknown error status: "+C+" with message "+T.message),f=!0,p.Vo(new B(w,A)),d.close()}else V(Et,`RPC '${e}' stream ${i} received:`,m),p.mo(m)}}),g(a,kC.STAT_EVENT,_=>{_.stat===qg.PROXY?V(Et,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===qg.NOPROXY&&V(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function uh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){return new Mk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new pE(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rx extends mE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=Uk(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?jn(s.readTime):ee.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=bd(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=kd(l)?{documents:Bk(o,l)}:{query:zk(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=oE(o,s.resumeToken);const u=Dd(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=fu(o,s.snapshotVersion.toTimestamp());const u=Dd(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Hk(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=bd(this.serializer),n.removeTarget=e,this.t_(n)}}class Px extends mE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=jk(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.T_(r,n)}return Pe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=bd(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$k(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Nd(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Nd(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class kx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Bn(n),this.g_=!1):V("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Ri(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=te(l);u.v_.add(4),await Da(u),u.x_.set("Unknown"),u.v_.delete(4),await uc(u)}(this))})}),this.x_=new kx(r,i)}}async function uc(t){if(Ri(t))for(const e of t.F_)await e(!0)}async function Da(t){for(const e of t.F_)await e(!1)}function gE(t,e){const n=te(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Np(n)?Dp(n):Lo(n).Jo()&&xp(n,e))}function kp(t,e){const n=te(t),r=Lo(n);n.C_.delete(e),r.Jo()&&yE(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ri(n)&&n.x_.set("Unknown"))}function xp(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(t).c_(e)}function yE(t,e){t.O_.Oe(e),Lo(t).l_(e)}function Dp(t){t.O_=new Nk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Lo(t).start(),t.x_.p_()}function Np(t){return Ri(t)&&!Lo(t).Ho()&&t.C_.size>0}function Ri(t){return te(t).v_.size===0}function vE(t){t.O_=void 0}async function Dx(t){t.C_.forEach((e,n)=>{xp(t,e)})}async function Nx(t,e){vE(t),Np(t)?(t.x_.S_(e),Dp(t)):t.x_.set("Unknown")}async function Vx(t,e,n){if(t.x_.set("Online"),e instanceof iE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pu(t,r)}else if(e instanceof Rl?t.O_.$e(e):e instanceof rE?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ee.min()))try{const r=await fE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(xt.EMPTY_BYTE_STRING,c.snapshotVersion)),yE(o,l);const d=new Er(c.target,l,u,c.sequenceNumber);xp(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await pu(t,r)}}async function pu(t,e,n){if(!Ca(e))throw e;t.v_.add(1),await Da(t),t.x_.set("Offline"),n||(n=()=>fE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await uc(t)})}function _E(t,e){return e().catch(n=>pu(t,n,e))}async function cc(t){const e=te(t),n=Lr(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;bx(e);)try{const i=await vx(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Ox(e,i)}catch(i){await pu(e,i)}wE(e)&&EE(e)}function bx(t){return Ri(t)&&t.D_.length<10}function Ox(t,e){t.D_.push(e);const n=Lr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function wE(t){return Ri(t)&&!Lr(t).Ho()&&t.D_.length>0}function EE(t){Lr(t).start()}async function Mx(t){Lr(t).d_()}async function Lx(t){const e=Lr(t);for(const n of t.D_)e.I_(n.mutations)}async function Fx(t,e,n){const r=t.D_.shift(),i=Sp.from(r,e,n);await _E(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cc(t)}async function Ux(t,e){e&&Lr(t).P_&&await async function(r,i){if(function(s){return kk(s)&&s!==k.ABORTED}(i.code)){const o=r.D_.shift();Lr(r).Zo(),await _E(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await cc(r)}}(t,e),wE(t)&&EE(t)}async function yy(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=Ri(n);n.v_.add(3),await Da(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await uc(n)}async function $x(t,e){const n=te(t);e?(n.v_.delete(2),await uc(n)):e||(n.v_.add(2),await Da(n),n.x_.set("Unknown"))}function Lo(t){return t.N_||(t.N_=function(n,r,i){const o=te(n);return o.R_(),new Rx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Dx.bind(null,t),To:Nx.bind(null,t),u_:Vx.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Np(t)?Dp(t):t.x_.set("Unknown")):(await t.N_.stop(),vE(t))})),t.N_}function Lr(t){return t.L_||(t.L_=function(n,r,i){const o=te(n);return o.R_(),new Px(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Mx.bind(null,t),To:Ux.bind(null,t),E_:Lx.bind(null,t),T_:Fx.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await cc(t)):(await t.L_.stop(),t.D_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Vp(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(t,e){if(Bn("AsyncQueue",`${e}: ${t}`),Ca(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=hs(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new ao(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this.B_=new Le(W.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Z():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ao{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ao(e,n,ao.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class Bx{constructor(){this.queries=new Mo(e=>Bw(e),rc),this.onlineState="Unknown",this.W_=new Set}}async function zx(t,e){const n=te(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new jx,r=e.U_()?0:1);try{switch(r){case 0:o.q_=await n.onListen(i,!0);break;case 1:o.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=bp(s,`Initialization of query '${bi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&Op(n)}async function Wx(t,e){const n=te(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Hx(t,e){const n=te(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&Op(n)}function qx(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function Op(t){t.W_.forEach(e=>{e.next()})}var Md,_y;(_y=Md||(Md={})).j_="default",_y.Cache="cache";class Kx{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.key=e}}class SE{constructor(e){this.key=e}}class Qx{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=se(),this.mutatedKeys=se(),this.ha=zw(e),this.Pa=new ao(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new vy,i=n?n.Pa:this.Pa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=ic(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.da(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.ha(f,l)>0||u&&this.ha(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(f?(s=s.add(f),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort((c,d)=>function(f,p){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return g(f)-g(p)}(c.type,d.type)||this.ha(c.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,u=l!==this.ca;return this.ca=l,s.length!==0||u?{snapshot:new Ao(this.query,e.Pa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new vy,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=se(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new SE(r))}),this.la.forEach(r=>{e.has(r)||n.push(new TE(r))}),n}fa(e){this.ua=e.hs,this.la=se();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Ao.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class Gx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Yx{constructor(e){this.key=e,this.pa=!1}}class Xx{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Mo(a=>Bw(a),rc),this.Sa=new Map,this.ba=new Set,this.Da=new Le(W.comparator),this.Ca=new Map,this.va=new Rp,this.Fa={},this.Ma=new Map,this.xa=Io.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function Jx(t,e,n=!0){const r=kE(t);let i;const o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=await IE(r,e,n,!0),i}async function Zx(t,e){const n=kE(t);await IE(n,e,!0,!1)}async function IE(t,e,n,r){const i=await _x(t.localStore,$n(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await e2(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&gE(t.remoteStore,i),a}async function e2(t,e,n,r,i){t.Na=(d,h,f)=>async function(g,_,y,m){let v=_.view.Ta(y);v.Xi&&(v=await py(g.localStore,_.query,!1).then(({documents:A})=>_.view.Ta(A,v)));const T=m&&m.targetChanges.get(_.targetId),C=m&&m.targetMismatches.get(_.targetId)!=null,w=_.view.applyChanges(v,g.isPrimaryClient,T,C);return Ey(g,_.targetId,w.Va),w.snapshot}(t,d,h,f);const o=await py(t.localStore,e,!0),s=new Qx(e,o.hs),a=s.Ta(o.documents),l=xa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);Ey(t,n,u.Va);const c=new Gx(e,n,s);return t.wa.set(e,c),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function t2(t,e,n){const r=te(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!rc(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Od(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kp(r.remoteStore,i.targetId),Ld(r,i.targetId)}).catch(Pa)):(Ld(r,i.targetId),await Od(r.localStore,i.targetId,!0))}async function n2(t,e){const n=te(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kp(n.remoteStore,r.targetId))}async function r2(t,e,n){const r=c2(t);try{const i=await function(s,a){const l=te(s),u=Ge.now(),c=a.reduce((f,p)=>f.add(p.key),se());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=sr(),g=se();return l.os.getEntries(f,c).next(_=>{p=_,p.forEach((y,m)=>{m.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(_=>{d=_;const y=[];for(const m of a){const v=Ik(m,d.get(m.key).overlayedDocument);v!=null&&y.push(new Ai(m.key,v,Ow(v.value.mapValue),er.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,y,a)}).next(_=>{h=_;const y=_.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,_.batchId,y)})}).then(()=>({batchId:h.batchId,changes:Hw(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Fa[s.currentUser.toKey()];u||(u=new Le(ye)),u=u.insert(a,l),s.Fa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Na(r,i.changes),await cc(r.remoteStore)}catch(i){const o=bp(i,"Failed to persist write");n.reject(o)}}async function AE(t,e){const n=te(t);try{const r=await gx(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ca.get(o);s&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?Pe(s.pa):i.removedDocuments.size>0&&(Pe(s.pa),s.pa=!1))}),await Na(n,r,e)}catch(r){await Pa(r)}}function wy(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((o,s)=>{const a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=te(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.G_(a)&&(u=!0)}),u&&Op(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i2(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),o=i&&i.key;if(o){let s=new Le(W.comparator);s=s.insert(o,At.newNoDocument(o,ee.min()));const a=se().add(o),l=new ac(ee.min(),new Map,new Le(ye),s,a);await AE(r,l),r.Da=r.Da.remove(o),r.Ca.delete(e),Mp(r)}else await Od(r.localStore,e,!1).then(()=>Ld(r,e,n)).catch(Pa)}async function o2(t,e){const n=te(t),r=e.batch.batchId;try{const i=await mx(n.localStore,e);PE(n,r,null),RE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Na(n,i)}catch(i){await Pa(i)}}async function s2(t,e,n){const r=te(t);try{const i=await function(s,a){const l=te(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Pe(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);PE(r,e,n),RE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Na(r,i)}catch(i){await Pa(i)}}function RE(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function PE(t,e,n){const r=te(t);let i=r.Fa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Ld(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||CE(t,r)})}function CE(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(kp(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Mp(t))}function Ey(t,e,n){for(const r of n)r instanceof TE?(t.va.addReference(r.key,e),a2(t,r)):r instanceof SE?(V("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||CE(t,r.key)):Z()}function a2(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(V("SyncEngine","New document in limbo: "+n),t.ba.add(r),Mp(t))}function Mp(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new W(Ve.fromString(e)),r=t.xa.next();t.Ca.set(r,new Yx(n)),t.Da=t.Da.insert(n,r),gE(t.remoteStore,new Er($n(Tp(n.path)),r,"TargetPurposeLimboResolution",gp._e))}}async function Na(t,e,n){const r=te(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{s.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Cp.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.ya.u_(i),await async function(l,u){const c=te(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>R.forEach(u,h=>R.forEach(h.qi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>R.forEach(h.Qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ca(d))throw d;V("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ns.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(h,g)}}}(r.localStore,o))}async function l2(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const r=await dE(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(l=>{l.reject(new B(k.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Na(n,r.us)}}function u2(t,e){const n=te(t),r=n.Ca.get(e);if(r&&r.pa)return se().add(r.key);{let i=se();const o=n.Sa.get(e);if(!o)return i;for(const s of o){const a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function kE(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i2.bind(null,e),e.ya.u_=Hx.bind(null,e.eventManager),e.ya.La=qx.bind(null,e.eventManager),e}function c2(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s2.bind(null,e),e}class Ty{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=lc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return px(this.persistence,new dx,e.initialUser,this.serializer)}createPersistence(e){return new ux(Pp.Hr,this.serializer)}createSharedClientState(e){return new Ex}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class h2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await $x(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Bx}()}createDatastore(e){const n=lc(e.databaseInfo.databaseId),r=function(o){return new Ax(o)}(e.databaseInfo);return function(o,s,a,l){return new Cx(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new xx(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wy(this.syncEngine,n,0),function(){return gy.D()?new gy:new Tx}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new Xx(i,o,s,a,l,u);return c&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=te(r);V("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Da(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=Nw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{V("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ch(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Sy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await m2(t);V("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yy(e.remoteStore,i)),t._onlineComponents=e}function p2(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function m2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await ch(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!p2(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await ch(t,new Ty)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await ch(t,new Ty);return t._offlineComponents}async function xE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await Sy(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await Sy(t,new h2))),t._onlineComponents}function g2(t){return xE(t).then(e=>e.syncEngine)}async function y2(t){const e=await xE(t),n=e.eventManager;return n.onListen=Jx.bind(null,e.syncEngine),n.onUnlisten=t2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Zx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n2.bind(null,e.syncEngine),n}function v2(t,e,n={}){const r=new Zn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new d2({next:h=>{s.enqueueAndForget(()=>Wx(o,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Kx(Tp(a.path),c,{includeMetadataChanges:!0,ta:!0});return zx(o,d)}(await y2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _2(t,e,n,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ay(t){if(!W.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ry(t){if(W.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function mu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lp(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Py({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Py(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NC;switch(r.type){case"firstParty":return new MC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Iy.get(n);r&&(V("ComponentProvider","Removing Datastore"),Iy.delete(n),r.terminate())}(this),Promise.resolve()}}function w2(t,e,n,r={}){var i;const o=(t=mu(t,hc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Tt.MOCK_USER;else{a=hR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Tt(u)}t._authCredentials=new VC(new Dw(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fp(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class Nr extends Fp{constructor(e,n,r){super(e,n,Tp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new W(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function E2(t,e,...n){if(t=Ys(t),NE("collection","path",e),t instanceof hc){const r=Ve.fromString(e,...n);return Ry(r),new Nr(t,null,r)}{if(!(t instanceof mn||t instanceof Nr))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Ry(r),new Nr(t.firestore,null,r)}}function VE(t,e,...n){if(t=Ys(t),arguments.length===1&&(e=Nw.newId()),NE("doc","path",e),t instanceof hc){const r=Ve.fromString(e,...n);return Ay(r),new mn(t,null,new W(r))}{if(!(t instanceof mn||t instanceof Nr))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Ay(r),new mn(t.firestore,t instanceof Nr?t.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new pE(this,"async_queue_retry"),this.cu=()=>{const n=uh();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=uh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=uh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Zn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Ca(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Bn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=Vp.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&Z()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class Up extends hc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new T2}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||OE(this),this._firestoreClient.terminate()}}function S2(t,e){const n=typeof t=="object"?t:gP(),r=typeof t=="string"?t:e||"(default)",i=dP(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=uR("firestore");o&&w2(i,...o)}return i}function bE(t){return t._firestoreClient||OE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OE(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new YC(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,DE(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new f2(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(xt.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=/^__.*__$/;class A2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new ka(e,this.data,n,this.fieldTransforms)}}function LE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Bp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return gu(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(LE(this.Vu)&&I2.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class R2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lc(e)}Cu(e,n,r,i=!1){return new Bp({Vu:e,methodName:n,Du:r,path:ft.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P2(t){const e=t._freezeSettings(),n=lc(t._databaseId);return new R2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function C2(t,e,n,r,i,o={}){const s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);jE("Data must be an object, but it was:",s,r);const a=UE(r,s);let l,u;if(o.merge)l=new In(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=k2(e,d,n);if(!s.contains(h))throw new B(k.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);D2(c,h)||c.push(h)}l=new In(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new A2(new dn(a),l,u)}function FE(t,e){if($E(t=Ys(t)))return jE("Unsupported field value:",e,t),UE(t,e);if(t instanceof ME)return function(r,i){if(!LE(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=FE(a,i.wu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ys(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ge.fromDate(r);return{timestampValue:fu(i.serializer,o)}}if(r instanceof Ge){const o=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fu(i.serializer,o)}}if(r instanceof jp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ro)return{bytesValue:oE(i.serializer,r._byteString)};if(r instanceof mn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ap(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Lp(r)}`)}(t,e)}function UE(t,e){const n={};return Vw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(t,(r,i)=>{const o=FE(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function $E(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof jp||t instanceof Ro||t instanceof mn||t instanceof ME)}function jE(t,e,n){if(!$E(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Lp(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function k2(t,e,n){if((e=Ys(e))instanceof $p)return e._internalPath;if(typeof e=="string")return BE(t,e);throw gu("Field path arguments must be of type string or ",t,!1,void 0,n)}const x2=new RegExp("[~\\*/\\[\\]]");function BE(t,e,n){if(e.search(x2)>=0)throw gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $p(...e.split("."))._internalPath}catch{throw gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new B(k.INVALID_ARGUMENT,a+t+l)}function D2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(WE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N2 extends zE{data(){return super.data()}}function WE(t,e){return typeof e=="string"?BE(t,e):e instanceof $p?e._internalPath:e._delegate._internalPath}class V2{convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new jp(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(la(e));default:return null}}convertTimestamp(e){const n=Mr(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Pe(hE(r));const i=new ua(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Bn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HE extends zE{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new M2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(WE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class M2 extends HE{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){t=mu(t,mn);const e=mu(t.firestore,Up);return v2(bE(e),t._key).then(n=>j2(e,t,n))}class F2 extends V2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function U2(t,e){const n=mu(t.firestore,Up),r=VE(t),i=b2(t.converter,e);return $2(n,[C2(P2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function $2(t,e){return function(r,i){const o=new Zn;return r.asyncQueue.enqueueAndForget(async()=>r2(await g2(r),i,o)),o.promise}(bE(t),e)}function j2(t,e,n){const r=n.docs.get(e._key),i=new F2(t);return new HE(t,i,e._key,r,new O2(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){bo=i})(mP),tu(new Xs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Up(new bC(r.getProvider("auth-internal")),new FC(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ua(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),io(Kg,"4.5.0",e),io(Kg,"4.5.0","esm2017")})();var B2="firebase",z2="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(B2,z2,"app");const W2={apiKey:"AIzaSyAIS-Hjq3aPlWO1c1dtDWsizC0rq7VJAW8",authDomain:"testfirebase-bcqeop.firebaseapp.com",databaseURL:"https://testfirebase-bcqeop.firebaseio.com",projectId:"testfirebase-bcqeop",storageBucket:"testfirebase-bcqeop.appspot.com",messagingSenderId:"514838267794",appId:"1:514838267794:web:d62daba38d29333659e34b"},H2=A0(W2),qE=S2(H2);async function Cy(t,e){const n=VE(qE,q2(t),e),r=await L2(n);return r.exists()?r.data().names:(console.log("An error occured: no such document exists!"),!1)}function q2(t){switch(t){case"christmas":return"listeNatale";case"easter":return"listePasqua";default:console.log("Festivity not recognized!")}}function K2({msg:t}){const e=P.useRef();return P.useEffect(()=>{setTimeout(()=>{e.current.classList.add("closing")},3e3)},[]),O.jsx("div",{ref:e,className:"validation-error",children:O.jsx("p",{className:"validation-error-msg",children:t})})}function Q2(t=[]){let e=t.slice().sort(()=>Math.random()-.5);for(let n=0;n<e.length;n++){const r=t[n];let i=(n+1)%e.length,o=e[i];r.secretFriend={id:o.id,name:o.name}}return e}function ky({festivity:t="christmas"}){const[e,n]=P.useState(""),[r,i]=P.useState([]),[o,s]=P.useState(!0),a=Fu(),l=P.useRef();P.useEffect(()=>{setTimeout(()=>{s(!0)},3e3)},[o]);function u(){i(f=>[...f,{id:crypto.randomUUID(),name:e.toLowerCase(),isDisabled:!1}]),n("")}function c(f){i(p=>p.filter(g=>g.id!=f))}function d(){return a(l.current.value)}async function h(f){if(f.preventDefault(),r.length<3)return s(!1);s(!0);let p;switch(t){case"christmas":p="listeNatale";break;case"easter":p="listePasqua";break}const g=E2(qE,p),_={timestamp:Ge.now(),names:r,combinations:Q2(r)},y=await U2(g,_);return a(y.id)}return O.jsxs("div",{className:"card-list-wrapper",children:[O.jsxs("div",{className:"card-list-enter-code",children:[O.jsx("h2",{children:"Un tuo amico ha gi fatto la lista?"}),O.jsx("p",{children:O.jsxs("i",{children:["Inserisci il codice per scoprire il tuo ",t==="christmas"?"babbo natale segreto":"coniglio segreto"]})}),O.jsx("input",{ref:l,placeholder:"Inserisci qui..."}),O.jsxs("button",{className:"btn",onClick:()=>d(),children:["Scopri il tuo ",t==="christmas"?"babbo natale segreto":"coniglio segreto","!"]})]}),O.jsxs("form",{className:"card-list-form",onSubmit:h,children:[O.jsx("h2",{children:"Oppure crea la tua lista!"}),O.jsx("button",{className:"hidden",disabled:!0}),O.jsxs("div",{className:"card-list-add",children:[O.jsx("input",{type:"text",placeholder:r.length?"Inserisci il prossimo nome":"Inserisci il tuo nome",value:e,onKeyDown:f=>{if(f.key==="Enter")return u()},onChange:f=>n(f.target.value)}),O.jsx("button",{className:"bx bx-plus",type:"button",onClick:()=>u()})]}),!o&&O.jsx(K2,{msg:"Devi aggiungere almeno 3 persone!"}),r.length>0&&O.jsx("ul",{className:"card-list-ul",children:r.map(f=>O.jsxs("li",{className:"card-list-item",children:[f.name," ",O.jsx("button",{className:"bx bx-trash",type:"button",onClick:()=>c(f.id)})]},f.id))}),O.jsx("button",{className:"btn",children:"Fatto!"})]})]})}function xy(t){if(navigator.clipboard){navigator.clipboard.writeText(t).then(function(){},function(e){console.error("Async: Could not copy text: ",e)});return}else{try{try{document.execCommand("copy",t)}catch{document.execCommand("copy",!1,t)}}catch(e){console.log(e)}return}}var F={},Fd={exports:{}};(function(t,e){(function(n,r){var i="1.0.37",o="",s="?",a="function",l="undefined",u="object",c="string",d="major",h="model",f="name",p="type",g="vendor",_="version",y="architecture",m="console",v="mobile",T="tablet",C="smarttv",w="wearable",A="embedded",D=500,U="Amazon",j="Apple",le="ASUS",Fe="BlackBerry",Te="Browser",at="Chrome",cr="Edge",Kt="Firefox",_e="Google",M="Huawei",H="LG",q="Microsoft",ce="Motorola",ve="Opera",Nt="Samsung",He="Sharp",vt="Sony",Ye="Xiaomi",sn="Zebra",Oa="Facebook",Ma="Chromium OS",La="Mac OS",Vt=function(ne,me){var G={};for(var Se in ne)me[Se]&&me[Se].length%2===0?G[Se]=me[Se].concat(ne[Se]):G[Se]=ne[Se];return G},kn=function(ne){for(var me={},G=0;G<ne.length;G++)me[ne[G].toUpperCase()]=ne[G];return me},Uo=function(ne,me){return typeof ne===c?Hr(me).indexOf(Hr(ne))!==-1:!1},Hr=function(ne){return ne.toLowerCase()},Hn=function(ne){return typeof ne===c?ne.replace(/[^\d\.]/g,o).split(".")[0]:r},$o=function(ne,me){if(typeof ne===c)return ne=ne.replace(/^\s\s*/,o),typeof me===l?ne:ne.substring(0,D)},qr=function(ne,me){for(var G=0,Se,lt,Gt,de,Q,an;G<me.length&&!Q;){var Pi=me[G],Kr=me[G+1];for(Se=lt=0;Se<Pi.length&&!Q&&Pi[Se];)if(Q=Pi[Se++].exec(ne),Q)for(Gt=0;Gt<Kr.length;Gt++)an=Q[++lt],de=Kr[Gt],typeof de===u&&de.length>0?de.length===2?typeof de[1]==a?this[de[0]]=de[1].call(this,an):this[de[0]]=de[1]:de.length===3?typeof de[1]===a&&!(de[1].exec&&de[1].test)?this[de[0]]=an?de[1].call(this,an,de[2]):r:this[de[0]]=an?an.replace(de[1],de[2]):r:de.length===4&&(this[de[0]]=an?de[3].call(this,an.replace(de[1],de[2])):r):this[de]=an||r;G+=2}},jo=function(ne,me){for(var G in me)if(typeof me[G]===u&&me[G].length>0){for(var Se=0;Se<me[G].length;Se++)if(Uo(me[G][Se],ne))return G===s?r:G}else if(Uo(me[G],ne))return G===s?r:G;return ne},fc={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Fa={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},hr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[_,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[_,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,_],[/opios[\/ ]+([\w\.]+)/i],[_,[f,ve+" Mini"]],[/\bopr\/([\w\.]+)/i],[_,[f,ve]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[_,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,_],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[_,[f,"UC"+Te]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[_,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[_,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[_,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[_,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[_,[f,"Smart Lenovo "+Te]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+Te],_],[/\bfocus\/([\w\.]+)/i],[_,[f,Kt+" Focus"]],[/\bopt\/([\w\.]+)/i],[_,[f,ve+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[_,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[_,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[_,[f,ve+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[_,[f,"MIUI "+Te]],[/fxios\/([-\w\.]+)/i],[_,[f,Kt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+Te]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+Te],_],[/samsungbrowser\/([\w\.]+)/i],[_,[f,Nt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],_],[/metasr[\/ ]?([\d\.]+)/i],[_,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],_],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,_],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,Oa],_],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,_],[/\bgsa\/([\w\.]+) .*safari\//i],[_,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[_,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[_,[f,at+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,at+" WebView"],_],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[_,[f,"Android "+Te]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,_],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[_,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[_,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[_,jo,fc]],[/(webkit|khtml)\/([\w\.]+)/i],[f,_],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],_],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[_,[f,Kt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,_],[/(cobalt)\/([\w\.]+)/i],[f,[_,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,Hr]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,o,Hr]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,Hr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[g,Nt],[p,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[g,Nt],[p,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[g,j],[p,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[g,j],[p,T]],[/(macintosh);/i],[h,[g,j]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[g,He],[p,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[g,M],[p,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[g,M],[p,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[g,Ye],[p,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[g,Ye],[p,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[g,"OPPO"],[p,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[g,"Vivo"],[p,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[g,"Realme"],[p,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[g,ce],[p,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[g,ce],[p,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[g,H],[p,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[g,H],[p,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[g,"Lenovo"],[p,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[g,"Nokia"],[p,v]],[/(pixel c)\b/i],[h,[g,_e],[p,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[g,_e],[p,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[g,vt],[p,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[g,vt],[p,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[g,"OnePlus"],[p,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[g,U],[p,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[g,U],[p,v]],[/(playbook);[-\w\),; ]+(rim)/i],[h,g,[p,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[g,Fe],[p,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[g,le],[p,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[g,le],[p,v]],[/(nexus 9)/i],[h,[g,"HTC"],[p,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[h,/_/g," "],[p,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[g,"Acer"],[p,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[g,"Meizu"],[p,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[g,"Ulefone"],[p,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,h,[p,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,h,[p,T]],[/(surface duo)/i],[h,[g,q],[p,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[g,"Fairphone"],[p,v]],[/(u304aa)/i],[h,[g,"AT&T"],[p,v]],[/\bsie-(\w*)/i],[h,[g,"Siemens"],[p,v]],[/\b(rct\w+) b/i],[h,[g,"RCA"],[p,T]],[/\b(venue[\d ]{2,7}) b/i],[h,[g,"Dell"],[p,T]],[/\b(q(?:mv|ta)\w+) b/i],[h,[g,"Verizon"],[p,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[g,"Barnes & Noble"],[p,T]],[/\b(tm\d{3}\w+) b/i],[h,[g,"NuVision"],[p,T]],[/\b(k88) b/i],[h,[g,"ZTE"],[p,T]],[/\b(nx\d{3}j) b/i],[h,[g,"ZTE"],[p,v]],[/\b(gen\d{3}) b.+49h/i],[h,[g,"Swiss"],[p,v]],[/\b(zur\d{3}) b/i],[h,[g,"Swiss"],[p,T]],[/\b((zeki)?tb.*\b) b/i],[h,[g,"Zeki"],[p,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],h,[p,T]],[/\b(ns-?\w{0,9}) b/i],[h,[g,"Insignia"],[p,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[g,"NextBook"],[p,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],h,[p,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],h,[p,v]],[/\b(ph-1) /i],[h,[g,"Essential"],[p,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[g,"Envizen"],[p,T]],[/\b(trio[-\w\. ]+) b/i],[h,[g,"MachSpeed"],[p,T]],[/\btu_(1491) b/i],[h,[g,"Rotor"],[p,T]],[/(shield[\w ]+) b/i],[h,[g,"Nvidia"],[p,T]],[/(sprint) (\w+)/i],[g,h,[p,v]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[g,q],[p,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[g,sn],[p,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[g,sn],[p,v]],[/smart-tv.+(samsung)/i],[g,[p,C]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[g,Nt],[p,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,H],[p,C]],[/(apple) ?tv/i],[g,[h,j+" TV"],[p,C]],[/crkey/i],[[h,at+"cast"],[g,_e],[p,C]],[/droid.+aft(\w+)( bui|\))/i],[h,[g,U],[p,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[g,He],[p,C]],[/(bravia[\w ]+)( bui|\))/i],[h,[g,vt],[p,C]],[/(mitv-\w{5}) bui/i],[h,[g,Ye],[p,C]],[/Hbbtv.*(technisat) (.*);/i],[g,h,[p,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,$o],[h,$o],[p,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,h,[p,m]],[/droid.+; (shield) bui/i],[h,[g,"Nvidia"],[p,m]],[/(playstation [345portablevi]+)/i],[h,[g,vt],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[g,q],[p,m]],[/((pebble))app/i],[g,h,[p,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[g,j],[p,w]],[/droid.+; (glass) \d/i],[h,[g,_e],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[h,[g,sn],[p,w]],[/(quest( 2| pro)?)/i],[h,[g,Oa],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[p,A]],[/(aeobc)\b/i],[h,[g,U],[p,A]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[p,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[p,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,v]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[_,[f,cr+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[_,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,_],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[_,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,_],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[_,jo,Fa]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[_,jo,Fa],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[_,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,La],[_,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[_,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,_],[/\(bb(10);/i],[_,[f,Fe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[_,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[_,[f,Kt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[_,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[_,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[_,[f,at+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,Ma],_],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,_],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],_],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,_]]},Ut=function(ne,me){if(typeof ne===u&&(me=ne,ne=r),!(this instanceof Ut))return new Ut(ne,me).getResult();var G=typeof n!==l&&n.navigator?n.navigator:r,Se=ne||(G&&G.userAgent?G.userAgent:o),lt=G&&G.userAgentData?G.userAgentData:r,Gt=me?Vt(hr,me):hr,de=G&&G.userAgent==Se;return this.getBrowser=function(){var Q={};return Q[f]=r,Q[_]=r,qr.call(Q,Se,Gt.browser),Q[d]=Hn(Q[_]),de&&G&&G.brave&&typeof G.brave.isBrave==a&&(Q[f]="Brave"),Q},this.getCPU=function(){var Q={};return Q[y]=r,qr.call(Q,Se,Gt.cpu),Q},this.getDevice=function(){var Q={};return Q[g]=r,Q[h]=r,Q[p]=r,qr.call(Q,Se,Gt.device),de&&!Q[p]&&lt&&lt.mobile&&(Q[p]=v),de&&Q[h]=="Macintosh"&&G&&typeof G.standalone!==l&&G.maxTouchPoints&&G.maxTouchPoints>2&&(Q[h]="iPad",Q[p]=T),Q},this.getEngine=function(){var Q={};return Q[f]=r,Q[_]=r,qr.call(Q,Se,Gt.engine),Q},this.getOS=function(){var Q={};return Q[f]=r,Q[_]=r,qr.call(Q,Se,Gt.os),de&&!Q[f]&&lt&&lt.platform!="Unknown"&&(Q[f]=lt.platform.replace(/chrome os/i,Ma).replace(/macos/i,La)),Q},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Se},this.setUA=function(Q){return Se=typeof Q===c&&Q.length>D?$o(Q,D):Q,this},this.setUA(Se),this};Ut.VERSION=i,Ut.BROWSER=kn([f,_,d]),Ut.CPU=kn([y]),Ut.DEVICE=kn([h,g,p,m,v,C,T,w,A]),Ut.ENGINE=Ut.OS=kn([f,_]),t.exports&&(e=t.exports=Ut),e.UAParser=Ut;var xn=typeof n!==l&&(n.jQuery||n.Zepto);if(xn&&!xn.ua){var Qt=new Ut;xn.ua=Qt.getResult(),xn.ua.get=function(){return Qt.getUA()},xn.ua.set=function(ne){Qt.setUA(ne);var me=Qt.getResult();for(var G in me)xn.ua[G]=me[G]}}})(typeof window=="object"?window:G1)})(Fd,Fd.exports);var G2=Fd.exports;Object.defineProperty(F,"__esModule",{value:!0});function Y2(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Ct=P,Ce=Y2(Ct),KE=G2,zr=new KE,Dt=zr.getBrowser(),X2=zr.getCPU(),on=zr.getDevice(),zp=zr.getEngine(),Wr=zr.getOS(),Va=zr.getUA(),QE=function(e){return zr.setUA(e)},ba=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new KE(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},GE=Object.freeze({ClientUAInstance:zr,browser:Dt,cpu:X2,device:on,engine:zp,os:Wr,ua:Va,setUa:QE,parseUserAgent:ba});function Dy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dy(Object(n),!0).forEach(function(r){tD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ks(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ks=function(e){return typeof e}:ks=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function Z2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ny(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eD(t,e,n){return e&&Ny(t.prototype,e),n&&Ny(t,n),t}function tD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ud(){return Ud=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}function nD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jd(t,e)}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$d(t)}function jd(t,e){return jd=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},jd(t,e)}function rD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vn(t,e){if(t==null)return{};var n=rD(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iD(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pl(t)}function oD(t,e){return sD(t)||aD(t,e)||lD(t,e)||uD()}function sD(t){if(Array.isArray(t))return t}function aD(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function lD(t,e){if(t){if(typeof t=="string")return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(t,e)}}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var St={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},qt={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},Fo={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},cD={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},hD=function(e){switch(e){case St.Mobile:return{isMobile:!0};case St.Tablet:return{isTablet:!0};case St.SmartTv:return{isSmartTV:!0};case St.Console:return{isConsole:!0};case St.Wearable:return{isWearable:!0};case St.Browser:return{isBrowser:!0};case St.Embedded:return{isEmbedded:!0};default:return cD}},dD=function(e){return QE(e)},X=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},Wp=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},Hp=function(e){var n=Wp();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},fD=function(e,n,r,i,o){return{isBrowser:e,browserMajorVersion:X(n.major),browserFullVersion:X(n.version),browserName:X(n.name),engineName:X(r.name),engineVersion:X(r.version),osName:X(i.name),osVersion:X(i.version),userAgent:X(o)}},by=function(e,n,r,i){return J2({},e,{vendor:X(n.vendor),model:X(n.model),os:X(r.name),osVersion:X(r.version),ua:X(i)})},pD=function(e,n,r,i){return{isSmartTV:e,engineName:X(n.name),engineVersion:X(n.version),osName:X(r.name),osVersion:X(r.version),userAgent:X(i)}},mD=function(e,n,r,i){return{isConsole:e,engineName:X(n.name),engineVersion:X(n.version),osName:X(r.name),osVersion:X(r.version),userAgent:X(i)}},gD=function(e,n,r,i){return{isWearable:e,engineName:X(n.name),engineVersion:X(n.version),osName:X(r.name),osVersion:X(r.version),userAgent:X(i)}},yD=function(e,n,r,i,o){return{isEmbedded:e,vendor:X(n.vendor),model:X(n.model),engineName:X(r.name),engineVersion:X(r.version),osName:X(i.name),osVersion:X(i.version),userAgent:X(o)}};function vD(t){var e=t?ba(t):GE,n=e.device,r=e.browser,i=e.engine,o=e.os,s=e.ua,a=hD(n.type),l=a.isBrowser,u=a.isMobile,c=a.isTablet,d=a.isSmartTV,h=a.isConsole,f=a.isWearable,p=a.isEmbedded;if(l)return fD(l,r,i,o,s);if(d)return pD(d,i,o,s);if(h)return mD(h,i,o,s);if(u||c)return by(a,n,o,s);if(f)return gD(f,i,o,s);if(p)return yD(p,n,i,o,s)}var YE=function(e){var n=e.type;return n===St.Mobile},XE=function(e){var n=e.type;return n===St.Tablet},JE=function(e){var n=e.type;return n===St.Mobile||n===St.Tablet},ZE=function(e){var n=e.type;return n===St.SmartTv},yu=function(e){var n=e.type;return n===St.Browser},e1=function(e){var n=e.type;return n===St.Wearable},t1=function(e){var n=e.type;return n===St.Console},n1=function(e){var n=e.type;return n===St.Embedded},r1=function(e){var n=e.vendor;return X(n)},i1=function(e){var n=e.model;return X(n)},o1=function(e){var n=e.type;return X(n,"browser")},s1=function(e){var n=e.name;return n===Fo.Android},a1=function(e){var n=e.name;return n===Fo.Windows},l1=function(e){var n=e.name;return n===Fo.MAC_OS},u1=function(e){var n=e.name;return n===Fo.WindowsPhone},c1=function(e){var n=e.name;return n===Fo.IOS},h1=function(e){var n=e.version;return X(n)},d1=function(e){var n=e.name;return X(n)},f1=function(e){var n=e.name;return n===qt.Chrome},p1=function(e){var n=e.name;return n===qt.Firefox},m1=function(e){var n=e.name;return n===qt.Chromium},vu=function(e){var n=e.name;return n===qt.Edge},g1=function(e){var n=e.name;return n===qt.Yandex},y1=function(e){var n=e.name;return n===qt.Safari||n===qt.MobileSafari},v1=function(e){var n=e.name;return n===qt.MobileSafari},_1=function(e){var n=e.name;return n===qt.Opera},w1=function(e){var n=e.name;return n===qt.InternetExplorer||n===qt.Ie},E1=function(e){var n=e.name;return n===qt.MIUI},T1=function(e){var n=e.name;return n===qt.SamsungBrowser},S1=function(e){var n=e.version;return X(n)},I1=function(e){var n=e.major;return X(n)},A1=function(e){var n=e.name;return X(n)},R1=function(e){var n=e.name;return X(n)},P1=function(e){var n=e.version;return X(n)},C1=function(){var e=Wp(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},lo=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},k1=function(){var e=Wp();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},On=function(){return Hp("iPad")},x1=function(){return Hp("iPhone")},D1=function(){return Hp("iPod")},N1=function(e){return X(e)};function V1(t){var e=t||GE,n=e.device,r=e.browser,i=e.os,o=e.engine,s=e.ua;return{isSmartTV:ZE(n),isConsole:t1(n),isWearable:e1(n),isEmbedded:n1(n),isMobileSafari:v1(r)||On(),isChromium:m1(r),isMobile:JE(n)||On(),isMobileOnly:YE(n),isTablet:XE(n)||On(),isBrowser:yu(n),isDesktop:yu(n),isAndroid:s1(i),isWinPhone:u1(i),isIOS:c1(i)||On(),isChrome:f1(r),isFirefox:p1(r),isSafari:y1(r),isOpera:_1(r),isIE:w1(r),osVersion:h1(i),osName:d1(i),fullBrowserVersion:S1(r),browserVersion:I1(r),browserName:A1(r),mobileVendor:r1(n),mobileModel:i1(n),engineName:R1(o),engineVersion:P1(o),getUA:N1(s),isEdge:vu(r)||lo(s),isYandex:g1(r),deviceType:o1(n),isIOS13:k1(),isIPad13:On(),isIPhone13:x1(),isIPod13:D1(),isElectron:C1(),isEdgeChromium:lo(s),isLegacyEdge:vu(r)&&!lo(s),isWindows:a1(i),isMacOs:l1(i),isMIUI:E1(r),isSamsungBrowser:T1(r)}}var b1=ZE(on),O1=t1(on),M1=e1(on),_D=n1(on),wD=v1(Dt)||On(),ED=m1(Dt),dc=JE(on)||On(),L1=YE(on),F1=XE(on)||On(),U1=yu(on),TD=yu(on),$1=s1(Wr),j1=u1(Wr),B1=c1(Wr)||On(),SD=f1(Dt),ID=p1(Dt),AD=y1(Dt),RD=_1(Dt),z1=w1(Dt),PD=h1(Wr),CD=d1(Wr),kD=S1(Dt),xD=I1(Dt),DD=A1(Dt),ND=r1(on),VD=i1(on),bD=R1(zp),OD=P1(zp),MD=N1(Va),LD=vu(Dt)||lo(Va),FD=g1(Dt),UD=o1(on),$D=k1(),jD=On(),BD=x1(),zD=D1(),WD=C1(),HD=lo(Va),qD=vu(Dt)&&!lo(Va),KD=a1(Wr),QD=l1(Wr),GD=E1(Dt),YD=T1(Dt),XD=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=ba(e),r=n.device,i=n.browser,o=n.os,s=n.engine,a=n.ua;return V1({device:r,browser:i,os:o,engine:s,ua:a})},JD=function(e){var n=e.renderWithFragment,r=e.children,i=vn(e,["renderWithFragment","children"]);return $1?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},ZD=function(e){var n=e.renderWithFragment,r=e.children,i=vn(e,["renderWithFragment","children"]);return U1?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},eN=function(e){var n=e.renderWithFragment,r=e.children,i=vn(e,["renderWithFragment","children"]);return z1?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},tN=function(e){var n=e.renderWithFragment,r=e.children,i=vn(e,["renderWithFragment","children"]);return B1?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},nN=function(e){var n=e.renderWithFragment,r=e.children,i=vn(e,["renderWithFragment","children"]);return dc?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},rN=function(e){var n=e.renderWithFragment,r=e.children,i=vn(e,["renderWithFragment","children"]);return F1?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},iN=function(e){var n=e.renderWithFragment,r=e.children,i=vn(e,["renderWithFragment","children"]);return j1?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},oN=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=vn(e,["renderWithFragment","children","viewClassName","style"]);return L1?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},sN=function(e){var n=e.renderWithFragment,r=e.children,i=vn(e,["renderWithFragment","children"]);return b1?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},aN=function(e){var n=e.renderWithFragment,r=e.children,i=vn(e,["renderWithFragment","children"]);return O1?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},lN=function(e){var n=e.renderWithFragment,r=e.children,i=vn(e,["renderWithFragment","children"]);return M1?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",i,r):null},uN=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,o=vn(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?Ce.createElement(Ct.Fragment,null,r):Ce.createElement("div",o,r):null};function cN(t){return function(e){nD(n,e);function n(r){var i;return Z2(this,n),i=iD(this,$d(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(Pl(i)),i.onOrientationChange=i.onOrientationChange.bind(Pl(i)),i.onPageLoad=i.onPageLoad.bind(Pl(i)),i.state={isLandscape:!1,isPortrait:!1},i}return eD(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":ks(window))!==void 0&&dc&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Ce.createElement(t,Ud({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Ce.Component)}function hN(){var t=Ct.useState(function(){var o=window.innerWidth>window.innerHeight?90:0;return{isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"}}),e=oD(t,2),n=e[0],r=e[1],i=Ct.useCallback(function(){var o=window.innerWidth>window.innerHeight?90:0,s={isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"};n.orientation!==s.orientation&&r(s)},[n.orientation]);return Ct.useEffect(function(){return(typeof window>"u"?"undefined":ks(window))!==void 0&&dc&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function W1(t){var e=t||window.navigator.userAgent;return ba(e)}function dN(t){var e=t||window.navigator.userAgent,n=W1(e),r=V1(n);return[r,n]}F.AndroidView=JD;F.BrowserTypes=qt;F.BrowserView=ZD;F.ConsoleView=aN;F.CustomView=uN;F.IEView=eN;F.IOSView=tN;F.MobileOnlyView=oN;F.MobileView=nN;F.OsTypes=Fo;F.SmartTVView=sN;F.TabletView=rN;F.WearableView=lN;F.WinPhoneView=iN;F.browserName=DD;F.browserVersion=xD;F.deviceDetect=vD;F.deviceType=UD;F.engineName=bD;F.engineVersion=OD;F.fullBrowserVersion=kD;F.getSelectorsByUserAgent=XD;F.getUA=MD;F.isAndroid=$1;F.isBrowser=U1;F.isChrome=SD;F.isChromium=ED;F.isConsole=O1;F.isDesktop=TD;F.isEdge=LD;F.isEdgeChromium=HD;F.isElectron=WD;F.isEmbedded=_D;F.isFirefox=ID;F.isIE=z1;F.isIOS=B1;F.isIOS13=$D;F.isIPad13=jD;F.isIPhone13=BD;F.isIPod13=zD;F.isLegacyEdge=qD;F.isMIUI=GD;F.isMacOs=QD;var Oy=F.isMobile=dc;F.isMobileOnly=L1;F.isMobileSafari=wD;F.isOpera=RD;F.isSafari=AD;F.isSamsungBrowser=YD;F.isSmartTV=b1;F.isTablet=F1;F.isWearable=M1;F.isWinPhone=j1;F.isWindows=KD;F.isYandex=FD;F.mobileModel=VD;F.mobileVendor=ND;F.osName=CD;F.osVersion=PD;F.parseUserAgent=ba;F.setUserAgent=dD;F.useDeviceData=W1;F.useDeviceSelectors=dN;F.useMobileOrientation=hN;F.withOrientationChange=cN;const Vi={copy:"code",share:"share",link:"link"};async function My({params:t}){const e=window.location.href;if(e.match("christmas"))return Cy("christmas",t.id);if(e.match("easter"))return Cy("easter",t.id)}function Ly({festivity:t="christmas"}){const e=RA(),[n,r]=P.useState(""),[i,o]=P.useState(""),{id:s}=yA(),[a,l]=P.useState("");P.useEffect(()=>{try{const d=JSON.parse(localStorage.getItem("ibabbi"));r(d[s].secretFriend.name)}catch{console.log("No secret friend found in storage")}},[]);function u(d){const h={title:"La banda dei Babbi",text:"Scopri il tuo babbo natale segreto!",url:document.location.href};switch(d){case Vi.copy:try{xy(s),l("Copiato!")}catch{console.log("Unable to write on clipboard")}break;case Vi.link:try{xy(h.url),l("Link copiato!")}catch{console.log("Unable to write on clipboard")}break;case Vi.share:console.log(Oy);try{navigator.share(h),l("Fatto!")}catch(f){console.log("Share unavailable, error: ",f)}break;default:console.log("Action not permitted!")}}function c(d){if(!n){const h=e.filter(p=>p.id===d)[0],f=h.name;o(f),r(h.secretFriend.name),localStorage.setItem("ibabbi",JSON.stringify({...JSON.parse(localStorage.getItem("ibabbi")),[s]:h}))}}return O.jsxs("div",{className:"secret-friend-view-wrapper",children:[O.jsxs("div",{className:"secret-friend-view",children:[O.jsx("h2",{children:n?"Il tuo ".concat(t==="christmas"?"babbo segreto":"coniglio segreto").concat(" ..."):"Seleziona il tuo nome"}),n&&O.jsx("p",{children:n}),!n&&O.jsx("ul",{children:e.map(d=>O.jsx("li",{onClick:()=>c(d.id),children:d.name},d.id))})]}),O.jsxs("div",{className:"secret-friend-share",children:[O.jsx("h3",{children:"Copia il codice o condividi link per invitare altre persone!"}),O.jsx("p",{children:s}),a&&O.jsx("p",{className:"p-actions-confirmation",children:a}),O.jsxs("div",{className:"share-url",children:[O.jsx("button",{className:"btn bx bx-copy",onClick:()=>u(Vi.copy)}),Oy&&O.jsx("button",{className:"btn bx bx-share-alt",onClick:()=>u(Vi.share)}),O.jsx("button",{className:"btn bx bx-link",onClick:()=>u(Vi.link)})]})]})]})}const fN=LA([{path:"/ibabbi/",element:O.jsx(JA,{}),errorElement:O.jsx(Qc,{}),children:[{path:"/ibabbi/",element:O.jsx(ZA,{})},{path:"/ibabbi/christmas",element:O.jsx(ky,{}),errorElement:O.jsx(Qc,{})},{path:"/ibabbi/easter",element:O.jsx(ky,{festivity:"easter"}),errorElement:O.jsx(Qc,{})},{path:"/ibabbi/christmas/:id",loader:My,element:O.jsx(Ly,{})},{path:"/ibabbi/easter/:id",loader:My,element:O.jsx(Ly,{festivity:"easter"})}]}]);hh.createRoot(document.getElementById("root")).render(O.jsx(Gy.StrictMode,{children:O.jsx(qA,{router:fN})}));
